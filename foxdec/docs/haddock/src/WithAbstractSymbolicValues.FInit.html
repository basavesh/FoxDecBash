<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">WithAbstractSymbolicValues.FInit</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Base.html"><span class="hs-identifier">Base</span></a></span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html"><span class="hs-identifier">WithAbstractSymbolicValues.Class</span></a></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="WithAbstractSymbolicValues.Sstate.html"><span class="hs-identifier">WithAbstractSymbolicValues.Sstate</span></a></span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SymbolicExpression.html"><span class="hs-identifier">Data.SymbolicExpression</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SymbolicExpression.html#FlagStatus"><span class="hs-identifier">FlagStatus</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- TODO</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.X86.Instruction.html"><span class="hs-identifier">Data.X86.Instruction</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.X86.Register.html"><span class="hs-identifier">Data.X86.Register</span></a></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Size.html"><span class="hs-identifier">Data.Size</span></a></span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Algorithm.SCC.html"><span class="hs-identifier">Algorithm.SCC</span></a></span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.IntSet</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IS</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.IntMap</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IM</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set.NonEmpty</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NES</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Serialize</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Cereal</span></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="annot"><span class="hs-comment">-- | Show function initialisation</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679402844"><span id="local-6989586621679402845"><span id="local-6989586621679403026"><span id="local-6989586621679403031"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679402844"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679402844"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679402845"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-type">FInit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402844"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402845"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-37"></span><span> </span><span id="local-6989586621679403045"><span class="annot"><span class="annottext">show :: FInit v p -&gt; String
</span><a href="#local-6989586621679403045"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-type">FInit</span></a></span><span> </span><span id="local-6989586621679403048"><span class="annot"><span class="annottext">Set (SStatePart p, v)
</span><a href="#local-6989586621679403048"><span class="hs-identifier hs-var">sps</span></a></span></span><span> </span><span id="local-6989586621679403049"><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403049"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; [String] -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Bool) -&gt; [String] -&gt; [String]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([String] -&gt; [String]) -&gt; [String] -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; [String] -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((SStatePart p, v) -&gt; String) -&gt; [(SStatePart p, v)] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(SStatePart p, v) -&gt; String
forall {a} {a}. (Show a, Show a) =&gt; (SStatePart a, a) -&gt; String
</span><a href="#local-6989586621679403052"><span class="hs-identifier hs-var">show_sp_v</span></a></span><span> </span><span class="annot"><span class="annottext">([(SStatePart p, v)] -&gt; [String])
-&gt; [(SStatePart p, v)] -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p, v) -&gt; [(SStatePart p, v)]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p, v)
</span><a href="#local-6989586621679403048"><span class="hs-identifier hs-var">sps</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; [String] -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(((SStatePart p, SStatePart p), MemRelation) -&gt; String)
-&gt; [((SStatePart p, SStatePart p), MemRelation)] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">((SStatePart p, SStatePart p), MemRelation) -&gt; String
forall {a} {b} {a}.
(Show a, Show b, Show a) =&gt;
((a, b), a) -&gt; String
</span><a href="#local-6989586621679403054"><span class="hs-identifier hs-var">show_entry</span></a></span><span> </span><span class="annot"><span class="annottext">([((SStatePart p, SStatePart p), MemRelation)] -&gt; [String])
-&gt; [((SStatePart p, SStatePart p), MemRelation)] -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
-&gt; [((SStatePart p, SStatePart p), MemRelation)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">M.toList</span></span><span> </span><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403049"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-41"></span><span>    </span><span id="local-6989586621679403052"><span class="annot"><span class="annottext">show_sp_v :: (SStatePart a, a) -&gt; String
</span><a href="#local-6989586621679403052"><span class="hs-identifier hs-var hs-var">show_sp_v</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679403060"><span class="annot"><span class="annottext">SStatePart a
</span><a href="#local-6989586621679403060"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403061"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403061"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SStatePart a -&gt; String
forall {a}. Show a =&gt; SStatePart a -&gt; String
</span><a href="#local-6989586621679403062"><span class="hs-identifier hs-var">show_sp</span></a></span><span> </span><span class="annot"><span class="annottext">SStatePart a
</span><a href="#local-6989586621679403060"><span class="hs-identifier hs-var">sp</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; === &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403061"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span id="local-6989586621679403062"><span class="annot"><span class="annottext">show_sp :: SStatePart a -&gt; String
</span><a href="#local-6989586621679403062"><span class="hs-identifier hs-var hs-var">show_sp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#SSP_Reg"><span class="hs-identifier hs-type">SSP_Reg</span></a></span><span> </span><span id="local-6989586621679403070"><span class="annot"><span class="annottext">Register
</span><a href="#local-6989586621679403070"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Register -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Register
</span><a href="#local-6989586621679403070"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="#local-6989586621679403062"><span class="hs-identifier hs-var">show_sp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#SSP_Mem"><span class="hs-identifier hs-type">SSP_Mem</span></a></span><span> </span><span id="local-6989586621679403072"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403072"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679403073"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403073"><span class="hs-identifier hs-var">si</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*[&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403072"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;,&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403073"><span class="hs-identifier hs-var">si</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;]&quot;</span></span><span>
</span><span id="line-44"></span><span>    </span><span id="local-6989586621679403054"><span class="annot"><span class="annottext">show_entry :: ((a, b), a) -&gt; String
</span><a href="#local-6989586621679403054"><span class="hs-identifier hs-var hs-var">show_entry</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679403082"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403082"><span class="hs-identifier hs-var">sp0</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403083"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679403083"><span class="hs-identifier hs-var">sp1</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span id="local-6989586621679403084"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403084"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, b) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403082"><span class="hs-identifier hs-var">sp0</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679403083"><span class="hs-identifier hs-var">sp1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403084"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679402849"><span id="local-6989586621679403087"><span id="local-6989586621679403091"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679402849"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#SStatePart"><span class="hs-identifier hs-type">SStatePart</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402849"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-47"></span><span>  </span><span id="local-6989586621679403096"><span class="annot"><span class="annottext">show :: SStatePart p -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#SSP_Reg"><span class="hs-identifier hs-type">SSP_Reg</span></a></span><span> </span><span id="local-6989586621679403097"><span class="annot"><span class="annottext">Register
</span><a href="#local-6989586621679403097"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Register -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Register
</span><a href="#local-6989586621679403097"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#SSP_Mem"><span class="hs-identifier hs-type">SSP_Mem</span></a></span><span> </span><span id="local-6989586621679403098"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403098"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679403099"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403099"><span class="hs-identifier hs-var">si</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;[&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">p -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403098"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403099"><span class="hs-identifier hs-var">si</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;]&quot;</span></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="annot"><span class="hs-comment">-- | The initial predicate.</span></span><span>
</span><span id="line-52"></span><span id="local-6989586621679402875"><span id="local-6989586621679402876"><span id="local-6989586621679402877"><span class="annot"><a href="WithAbstractSymbolicValues.FInit.html#finit_to_init_sstate"><span class="hs-identifier hs-type">finit_to_init_sstate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#WithAbstractSymbolicValues"><span class="hs-identifier hs-type">WithAbstractSymbolicValues</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402875"><span class="hs-identifier hs-type">ctxt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402876"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402877"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679402875"><span class="hs-identifier hs-type">ctxt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-type">FInit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402876"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402877"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#Sstate"><span class="hs-identifier hs-type">Sstate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402876"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402877"><span class="hs-identifier hs-type">p</span></a></span></span></span></span><span>
</span><span id="line-53"></span><span id="finit_to_init_sstate"><span class="annot"><span class="annottext">finit_to_init_sstate :: forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt -&gt; FInit v p -&gt; Sstate v p
</span><a href="WithAbstractSymbolicValues.FInit.html#finit_to_init_sstate"><span class="hs-identifier hs-var hs-var">finit_to_init_sstate</span></a></span></span><span> </span><span id="local-6989586621679403119"><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403119"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621679403120"><span class="annot"><span class="annottext">finit :: FInit v p
</span><a href="#local-6989586621679403120"><span class="hs-identifier hs-var">finit</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-type">FInit</span></a></span><span> </span><span id="local-6989586621679403121"><span class="annot"><span class="annottext">Set (SStatePart p, v)
</span><a href="#local-6989586621679403121"><span class="hs-identifier hs-var">sps</span></a></span></span><span> </span><span id="local-6989586621679403122"><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403122"><span class="hs-identifier hs-var">init_mem</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679403132"><span class="annot"><span class="annottext">rsp0 :: v
</span><a href="#local-6989586621679403132"><span class="hs-identifier hs-var hs-var">rsp0</span></a></span></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ctxt -&gt; Register -&gt; v
forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt -&gt; Register -&gt; v
</span><a href="WithAbstractSymbolicValues.Class.html#smk_init_reg_value"><span class="hs-identifier hs-var">smk_init_reg_value</span></a></span><span> </span><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403119"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">(Register -&gt; v) -&gt; Register -&gt; v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GPR -&gt; Register
</span><a href="Data.X86.Register.html#Reg64"><span class="hs-identifier hs-var">Reg64</span></a></span><span> </span><span class="annot"><span class="annottext">GPR
</span><a href="Data.X86.Register.html#RSP"><span class="hs-identifier hs-var">RSP</span></a></span><span>
</span><span id="line-55"></span><span>      </span><span id="local-6989586621679403145"><span class="annot"><span class="annottext">write_stack_pointer :: State (Sstate v p, VCS v) ()
</span><a href="#local-6989586621679403145"><span class="hs-identifier hs-var hs-var">write_stack_pointer</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ctxt -&gt; String -&gt; Register -&gt; v -&gt; State (Sstate v p, VCS v) ()
forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt -&gt; String -&gt; Register -&gt; v -&gt; State (Sstate v p, VCS v) ()
</span><a href="WithAbstractSymbolicValues.Sstate.html#swrite_rreg"><span class="hs-identifier hs-var">swrite_rreg</span></a></span><span> </span><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403119"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;finit_to_init&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GPR -&gt; Register
</span><a href="Data.X86.Register.html#Reg64"><span class="hs-identifier hs-var">Reg64</span></a></span><span> </span><span class="annot"><span class="annottext">GPR
</span><a href="Data.X86.Register.html#RSP"><span class="hs-identifier hs-var">RSP</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403132"><span class="hs-identifier hs-var">rsp0</span></a></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span>      </span><span class="hs-special">[</span><span id="local-6989586621679403156"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403156"><span class="hs-identifier hs-var">rsp0_pointer</span></a></span></span><span class="hs-special">]</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set p -&gt; [p]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">(Set p -&gt; [p]) -&gt; Set p -&gt; [p]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ctxt -&gt; String -&gt; v -&gt; Set p
forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt -&gt; String -&gt; v -&gt; Set p
</span><a href="WithAbstractSymbolicValues.Class.html#smk_mem_addresses"><span class="hs-identifier hs-var">smk_mem_addresses</span></a></span><span> </span><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403119"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;RSP0&quot;</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403132"><span class="hs-identifier hs-var">rsp0</span></a></span><span>
</span><span id="line-58"></span><span>      </span><span id="local-6989586621679403167"><span class="annot"><span class="annottext">top_stack_frame :: v
</span><a href="#local-6989586621679403167"><span class="hs-identifier hs-var hs-var">top_stack_frame</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ctxt -&gt; String -&gt; p -&gt; Maybe ByteSize -&gt; v
forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt -&gt; String -&gt; p -&gt; Maybe ByteSize -&gt; v
</span><a href="WithAbstractSymbolicValues.Class.html#smk_init_mem_value"><span class="hs-identifier hs-var">smk_init_mem_value</span></a></span><span> </span><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403119"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;[RSP0,8]&quot;</span></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403156"><span class="hs-identifier hs-var">rsp0_pointer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteSize -&gt; Maybe ByteSize
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ByteSize -&gt; Maybe ByteSize) -&gt; ByteSize -&gt; Maybe ByteSize
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; ByteSize
</span><a href="Data.Size.html#ByteSize"><span class="hs-identifier hs-var">ByteSize</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>      </span><span id="local-6989586621679403179"><span class="annot"><span class="annottext">write_return_address :: State (Sstate v p, VCS v) ()
</span><a href="#local-6989586621679403179"><span class="hs-identifier hs-var hs-var">write_return_address</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ctxt
-&gt; Bool -&gt; v -&gt; Maybe ByteSize -&gt; v -&gt; State (Sstate v p, VCS v) ()
forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt
-&gt; Bool -&gt; v -&gt; Maybe ByteSize -&gt; v -&gt; State (Sstate v p, VCS v) ()
</span><a href="WithAbstractSymbolicValues.Sstate.html#swrite_mem"><span class="hs-identifier hs-var">swrite_mem</span></a></span><span> </span><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403119"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403132"><span class="hs-identifier hs-var">rsp0</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteSize -&gt; Maybe ByteSize
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ByteSize -&gt; Maybe ByteSize) -&gt; ByteSize -&gt; Maybe ByteSize
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; ByteSize
</span><a href="Data.Size.html#ByteSize"><span class="hs-identifier hs-var">ByteSize</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403167"><span class="hs-identifier hs-var">top_stack_frame</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>      </span><span id="local-6989586621679403181"><span class="annot"><span class="annottext">sregs :: Map k a
</span><a href="#local-6989586621679403181"><span class="hs-identifier hs-var hs-var">sregs</span></a></span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map k a
forall k a. Map k a
</span><span class="hs-identifier hs-var">M.empty</span></span><span>
</span><span id="line-62"></span><span>      </span><span id="local-6989586621679403183"><span class="annot"><span class="annottext">smem :: Map k a
</span><a href="#local-6989586621679403183"><span class="hs-identifier hs-var hs-var">smem</span></a></span></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map k a
forall k a. Map k a
</span><span class="hs-identifier hs-var">M.empty</span></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-63"></span><span>    </span><span class="annot"><span class="annottext">State (Sstate v p, VCS v) () -&gt; Sstate v p -&gt; Sstate v p
forall v p b.
State (Sstate v p, VCS v) b -&gt; Sstate v p -&gt; Sstate v p
</span><a href="WithAbstractSymbolicValues.Sstate.html#execSstate"><span class="hs-identifier hs-var">execSstate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State (Sstate v p, VCS v) ()
</span><a href="#local-6989586621679403145"><span class="hs-identifier hs-var">write_stack_pointer</span></a></span><span> </span><span class="annot"><span class="annottext">State (Sstate v p, VCS v) ()
-&gt; State (Sstate v p, VCS v) () -&gt; State (Sstate v p, VCS v) ()
forall a b.
StateT (Sstate v p, VCS v) Identity a
-&gt; StateT (Sstate v p, VCS v) Identity b
-&gt; StateT (Sstate v p, VCS v) Identity b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">State (Sstate v p, VCS v) ()
</span><a href="#local-6989586621679403179"><span class="hs-identifier hs-var">write_return_address</span></a></span><span> </span><span class="annot"><span class="annottext">State (Sstate v p, VCS v) ()
-&gt; State (Sstate v p, VCS v) () -&gt; State (Sstate v p, VCS v) ()
forall a b.
StateT (Sstate v p, VCS v) Identity a
-&gt; StateT (Sstate v p, VCS v) Identity b
-&gt; StateT (Sstate v p, VCS v) Identity b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[(SStatePart p, v)] -&gt; State (Sstate v p, VCS v) ()
</span><a href="#local-6989586621679403185"><span class="hs-identifier hs-var">write_finit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set (SStatePart p, v) -&gt; [(SStatePart p, v)]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p, v)
</span><a href="#local-6989586621679403121"><span class="hs-identifier hs-var">sps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Register v
-&gt; Map (p, Maybe ByteSize) v -&gt; FlagStatus -&gt; Sstate v p
forall v p.
Map Register v
-&gt; Map (p, Maybe ByteSize) v -&gt; FlagStatus -&gt; Sstate v p
</span><a href="WithAbstractSymbolicValues.Class.html#Sstate"><span class="hs-identifier hs-var">Sstate</span></a></span><span> </span><span class="annot"><span class="annottext">Map Register v
forall k a. Map k a
</span><a href="#local-6989586621679403181"><span class="hs-identifier hs-var">sregs</span></a></span><span> </span><span class="annot"><span class="annottext">Map (p, Maybe ByteSize) v
forall k a. Map k a
</span><a href="#local-6989586621679403183"><span class="hs-identifier hs-var">smem</span></a></span><span> </span><span class="annot"><span class="annottext">FlagStatus
</span><a href="Data.SymbolicExpression.html#None"><span class="hs-identifier hs-var">None</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-65"></span><span>  </span><span id="local-6989586621679403185"><span class="annot"><span class="annottext">write_finit :: [(SStatePart p, v)] -&gt; State (Sstate v p, VCS v) ()
</span><a href="#local-6989586621679403185"><span class="hs-identifier hs-var hs-var">write_finit</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; State (Sstate v p, VCS v) ()
forall a. a -&gt; StateT (Sstate v p, VCS v) Identity a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><a href="#local-6989586621679403185"><span class="hs-identifier hs-var">write_finit</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679403200"><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403200"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403201"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403201"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679403202"><span class="annot"><span class="annottext">[(SStatePart p, v)]
</span><a href="#local-6989586621679403202"><span class="hs-identifier hs-var">finit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ctxt -&gt; SStatePart p -&gt; v -&gt; State (Sstate v p, VCS v) ()
forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt -&gt; SStatePart p -&gt; v -&gt; State (Sstate v p, VCS v) ()
</span><a href="WithAbstractSymbolicValues.Sstate.html#write_sp"><span class="hs-identifier hs-var">write_sp</span></a></span><span> </span><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403119"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403200"><span class="hs-identifier hs-var">sp</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403201"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">State (Sstate v p, VCS v) ()
-&gt; State (Sstate v p, VCS v) () -&gt; State (Sstate v p, VCS v) ()
forall a b.
StateT (Sstate v p, VCS v) Identity a
-&gt; StateT (Sstate v p, VCS v) Identity b
-&gt; StateT (Sstate v p, VCS v) Identity b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[(SStatePart p, v)] -&gt; State (Sstate v p, VCS v) ()
</span><a href="#local-6989586621679403185"><span class="hs-identifier hs-var">write_finit</span></a></span><span> </span><span class="annot"><span class="annottext">[(SStatePart p, v)]
</span><a href="#local-6989586621679403202"><span class="hs-identifier hs-var">finit</span></a></span><span> </span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="annot"><span class="hs-comment">-- | Convert the current invariant into a function initialisation</span></span><span>
</span><span id="line-71"></span><span id="local-6989586621679402919"><span id="local-6989586621679402920"><span id="local-6989586621679402921"><span class="annot"><a href="WithAbstractSymbolicValues.FInit.html#sstate_to_finit"><span class="hs-identifier hs-type">sstate_to_finit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#WithAbstractSymbolicValues"><span class="hs-identifier hs-type">WithAbstractSymbolicValues</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402919"><span class="hs-identifier hs-type">ctxt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402920"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402921"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679402919"><span class="hs-identifier hs-type">ctxt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#Sstate"><span class="hs-identifier hs-type">Sstate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402920"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402921"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-type">FInit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402920"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402921"><span class="hs-identifier hs-type">p</span></a></span></span></span></span><span>
</span><span id="line-72"></span><span class="hs-comment">---invariant_to_finit ctxt p | trace (&quot;invariant_to_finit: &quot;++ show p) False = error &quot;trace&quot;</span><span>
</span><span id="line-73"></span><span id="sstate_to_finit"><span class="annot"><span class="annottext">sstate_to_finit :: forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt -&gt; Sstate v p -&gt; FInit v p
</span><a href="WithAbstractSymbolicValues.FInit.html#sstate_to_finit"><span class="hs-identifier hs-var hs-var">sstate_to_finit</span></a></span></span><span> </span><span id="local-6989586621679403216"><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403216"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621679403217"><span class="annot"><span class="annottext">Sstate v p
</span><a href="#local-6989586621679403217"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679403227"><span class="annot"><span class="annottext">sps :: Set (SStatePart p, v, Set p)
</span><a href="#local-6989586621679403227"><span class="hs-identifier hs-var hs-var">sps</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(SStatePart p, v, Set p)] -&gt; Set (SStatePart p, v, Set p)
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">S.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(SStatePart p, v, Set p)] -&gt; Set (SStatePart p, v, Set p))
-&gt; [(SStatePart p, v, Set p)] -&gt; Set (SStatePart p, v, Set p)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Map Register v -&gt; [(SStatePart p, v, Set p)]
forall {p}. Map Register v -&gt; [(SStatePart p, v, Set p)]
</span><a href="#local-6989586621679403229"><span class="hs-identifier hs-var">regs_to_sps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sstate v p -&gt; Map Register v
forall v p. Sstate v p -&gt; Map Register v
</span><a href="WithAbstractSymbolicValues.Class.html#sregs"><span class="hs-identifier hs-var">sregs</span></a></span><span> </span><span class="annot"><span class="annottext">Sstate v p
</span><a href="#local-6989586621679403217"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(SStatePart p, v, Set p)]
-&gt; [(SStatePart p, v, Set p)] -&gt; [(SStatePart p, v, Set p)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Map (p, Maybe ByteSize) v -&gt; [(SStatePart p, v, Set p)]
</span><a href="#local-6989586621679403231"><span class="hs-identifier hs-var">mem_to_sps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sstate v p -&gt; Map (p, Maybe ByteSize) v
forall v p. Sstate v p -&gt; Map (p, Maybe ByteSize) v
</span><a href="WithAbstractSymbolicValues.Class.html#smem"><span class="hs-identifier hs-var">smem</span></a></span><span> </span><span class="annot"><span class="annottext">Sstate v p
</span><a href="#local-6989586621679403217"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>      </span><span id="local-6989586621679403241"><span class="annot"><span class="annottext">pairs :: [((SStatePart p, v, Set p), (SStatePart p, v, Set p))]
</span><a href="#local-6989586621679403241"><span class="hs-identifier hs-var hs-var">pairs</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set ((SStatePart p, v, Set p), (SStatePart p, v, Set p))
-&gt; [((SStatePart p, v, Set p), (SStatePart p, v, Set p))]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">(Set ((SStatePart p, v, Set p), (SStatePart p, v, Set p))
 -&gt; [((SStatePart p, v, Set p), (SStatePart p, v, Set p))])
-&gt; Set ((SStatePart p, v, Set p), (SStatePart p, v, Set p))
-&gt; [((SStatePart p, v, Set p), (SStatePart p, v, Set p))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(((SStatePart p, v, Set p), (SStatePart p, v, Set p)) -&gt; Bool)
-&gt; Set ((SStatePart p, v, Set p), (SStatePart p, v, Set p))
-&gt; Set ((SStatePart p, v, Set p), (SStatePart p, v, Set p))
forall a. (a -&gt; Bool) -&gt; Set a -&gt; Set a
</span><span class="hs-identifier hs-var">S.filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679403243"><span class="annot"><span class="annottext">(SStatePart p, v, Set p)
</span><a href="#local-6989586621679403243"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403244"><span class="annot"><span class="annottext">(SStatePart p, v, Set p)
</span><a href="#local-6989586621679403244"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SStatePart p, v, Set p)
</span><a href="#local-6989586621679403243"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(SStatePart p, v, Set p) -&gt; (SStatePart p, v, Set p) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">(SStatePart p, v, Set p)
</span><a href="#local-6989586621679403244"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Set ((SStatePart p, v, Set p), (SStatePart p, v, Set p))
 -&gt; Set ((SStatePart p, v, Set p), (SStatePart p, v, Set p)))
-&gt; Set ((SStatePart p, v, Set p), (SStatePart p, v, Set p))
-&gt; Set ((SStatePart p, v, Set p), (SStatePart p, v, Set p))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p, v, Set p)
-&gt; Set (SStatePart p, v, Set p)
-&gt; Set ((SStatePart p, v, Set p), (SStatePart p, v, Set p))
forall a b. Set a -&gt; Set b -&gt; Set (a, b)
</span><span class="hs-identifier hs-var">S.cartesianProduct</span></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p, v, Set p)
</span><a href="#local-6989586621679403227"><span class="hs-identifier hs-var">sps</span></a></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p, v, Set p)
</span><a href="#local-6989586621679403227"><span class="hs-identifier hs-var">sps</span></a></span><span>
</span><span id="line-76"></span><span>      </span><span id="local-6989586621679403263"><span class="annot"><span class="annottext">mem_rels :: Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403263"><span class="hs-identifier hs-var hs-var">mem_rels</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[((SStatePart p, SStatePart p), MemRelation)]
-&gt; Map (SStatePart p, SStatePart p) MemRelation
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">M.fromList</span></span><span> </span><span class="annot"><span class="annottext">([((SStatePart p, SStatePart p), MemRelation)]
 -&gt; Map (SStatePart p, SStatePart p) MemRelation)
-&gt; [((SStatePart p, SStatePart p), MemRelation)]
-&gt; Map (SStatePart p, SStatePart p) MemRelation
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(((SStatePart p, v, Set p), (SStatePart p, v, Set p))
 -&gt; Maybe ((SStatePart p, SStatePart p), MemRelation))
-&gt; [((SStatePart p, v, Set p), (SStatePart p, v, Set p))]
-&gt; [((SStatePart p, SStatePart p), MemRelation)]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ctxt
-&gt; ((SStatePart p, v, Set p), (SStatePart p, v, Set p))
-&gt; Maybe ((SStatePart p, SStatePart p), MemRelation)
forall {t :: * -&gt; *} {t :: * -&gt; *} {ctxt} {v} {p} {a} {b} {b} {b}.
(Foldable t, Foldable t, WithAbstractSymbolicValues ctxt v p) =&gt;
ctxt -&gt; ((a, b, t p), (b, b, t p)) -&gt; Maybe ((a, b), MemRelation)
</span><a href="#local-6989586621679403266"><span class="hs-identifier hs-var">mk_memrel</span></a></span><span> </span><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403216"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[((SStatePart p, v, Set p), (SStatePart p, v, Set p))]
</span><a href="#local-6989586621679403241"><span class="hs-identifier hs-var">pairs</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-77"></span><span>    </span><span class="annot"><span class="annottext">Set (SStatePart p, v)
-&gt; Map (SStatePart p, SStatePart p) MemRelation -&gt; FInit v p
forall v p.
Set (SStatePart p, v)
-&gt; Map (SStatePart p, SStatePart p) MemRelation -&gt; FInit v p
</span><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-var">FInit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((SStatePart p, v) -&gt; Bool)
-&gt; Set (SStatePart p, v) -&gt; Set (SStatePart p, v)
forall a. (a -&gt; Bool) -&gt; Set a -&gt; Set a
</span><span class="hs-identifier hs-var">S.filter</span></span><span> </span><span class="annot"><span class="annottext">(SStatePart p, v) -&gt; Bool
</span><a href="#local-6989586621679403267"><span class="hs-identifier hs-var">keep_sp</span></a></span><span> </span><span class="annot"><span class="annottext">(Set (SStatePart p, v) -&gt; Set (SStatePart p, v))
-&gt; Set (SStatePart p, v) -&gt; Set (SStatePart p, v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((SStatePart p, v, Set p) -&gt; (SStatePart p, v))
-&gt; Set (SStatePart p, v, Set p) -&gt; Set (SStatePart p, v)
forall b a. Ord b =&gt; (a -&gt; b) -&gt; Set a -&gt; Set b
</span><span class="hs-identifier hs-var">S.map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679403269"><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403269"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403270"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403270"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403271"><span class="annot"><span class="annottext">Set p
</span><a href="#local-6989586621679403271"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403269"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403270"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Set (SStatePart p, v, Set p) -&gt; Set (SStatePart p, v))
-&gt; Set (SStatePart p, v, Set p) -&gt; Set (SStatePart p, v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p, v, Set p)
</span><a href="#local-6989586621679403227"><span class="hs-identifier hs-var">sps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403263"><span class="hs-identifier hs-var">mem_rels</span></a></span><span>
</span><span id="line-78"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-79"></span><span>    </span><span id="local-6989586621679403229"><span class="annot"><span class="annottext">regs_to_sps :: Map Register v -&gt; [(SStatePart p, v, Set p)]
</span><a href="#local-6989586621679403229"><span class="hs-identifier hs-var hs-var">regs_to_sps</span></a></span></span><span> </span><span id="local-6989586621679403272"><span class="annot"><span class="annottext">Map Register v
</span><a href="#local-6989586621679403272"><span class="hs-identifier hs-var">regs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Register, v) -&gt; Maybe (SStatePart p, v, Set p))
-&gt; [(Register, v)] -&gt; [(SStatePart p, v, Set p)]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">(Register, v) -&gt; Maybe (SStatePart p, v, Set p)
forall {p}. (Register, v) -&gt; Maybe (SStatePart p, v, Set p)
</span><a href="#local-6989586621679403273"><span class="hs-identifier hs-var">mk_reg</span></a></span><span> </span><span class="annot"><span class="annottext">([(Register, v)] -&gt; [(SStatePart p, v, Set p)])
-&gt; [(Register, v)] -&gt; [(SStatePart p, v, Set p)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Register, v) -&gt; Bool) -&gt; [(Register, v)] -&gt; [(Register, v)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">(Register, v) -&gt; Bool
forall {b}. (Register, b) -&gt; Bool
</span><a href="#local-6989586621679403274"><span class="hs-identifier hs-var">suitable_reg</span></a></span><span> </span><span class="annot"><span class="annottext">([(Register, v)] -&gt; [(Register, v)])
-&gt; [(Register, v)] -&gt; [(Register, v)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Map Register v -&gt; [(Register, v)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">M.assocs</span></span><span> </span><span class="annot"><span class="annottext">Map Register v
</span><a href="#local-6989586621679403272"><span class="hs-identifier hs-var">regs</span></a></span><span>
</span><span id="line-80"></span><span>    </span><span id="local-6989586621679403231"><span class="annot"><span class="annottext">mem_to_sps :: Map (p, Maybe ByteSize) v -&gt; [(SStatePart p, v, Set p)]
</span><a href="#local-6989586621679403231"><span class="hs-identifier hs-var hs-var">mem_to_sps</span></a></span></span><span>  </span><span id="local-6989586621679403276"><span class="annot"><span class="annottext">Map (p, Maybe ByteSize) v
</span><a href="#local-6989586621679403276"><span class="hs-identifier hs-var">mem</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(((p, Maybe ByteSize), v) -&gt; Maybe (SStatePart p, v, Set p))
-&gt; [((p, Maybe ByteSize), v)] -&gt; [(SStatePart p, v, Set p)]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">((p, Maybe ByteSize), v) -&gt; Maybe (SStatePart p, v, Set p)
</span><a href="#local-6989586621679403277"><span class="hs-identifier hs-var">mk_mem</span></a></span><span> </span><span class="annot"><span class="annottext">([((p, Maybe ByteSize), v)] -&gt; [(SStatePart p, v, Set p)])
-&gt; [((p, Maybe ByteSize), v)] -&gt; [(SStatePart p, v, Set p)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Map (p, Maybe ByteSize) v -&gt; [((p, Maybe ByteSize), v)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">M.assocs</span></span><span> </span><span class="annot"><span class="annottext">Map (p, Maybe ByteSize) v
</span><a href="#local-6989586621679403276"><span class="hs-identifier hs-var">mem</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span>    </span><span id="local-6989586621679403274"><span class="annot"><span class="annottext">suitable_reg :: (Register, b) -&gt; Bool
</span><a href="#local-6989586621679403274"><span class="hs-identifier hs-var hs-var">suitable_reg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.X86.Register.html#Reg64"><span class="hs-identifier hs-type">Reg64</span></a></span><span> </span><span class="annot"><span class="annottext">GPR
</span><a href="Data.X86.Register.html#RIP"><span class="hs-identifier hs-var">RIP</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-83"></span><span>    </span><span class="annot"><a href="#local-6989586621679403274"><span class="hs-identifier hs-var">suitable_reg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.X86.Register.html#Reg64"><span class="hs-identifier hs-type">Reg64</span></a></span><span> </span><span class="annot"><span class="annottext">GPR
</span><a href="Data.X86.Register.html#RSP"><span class="hs-identifier hs-var">RSP</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-84"></span><span>    </span><span class="annot"><a href="#local-6989586621679403274"><span class="hs-identifier hs-var">suitable_reg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.X86.Register.html#Reg64"><span class="hs-identifier hs-type">Reg64</span></a></span><span> </span><span class="annot"><span class="annottext">GPR
</span><a href="Data.X86.Register.html#RBP"><span class="hs-identifier hs-var">RBP</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-85"></span><span>    </span><span class="annot"><a href="#local-6989586621679403274"><span class="hs-identifier hs-var">suitable_reg</span></a></span><span> </span><span class="annot"><span class="annottext">(Register, b)
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span>    </span><span id="local-6989586621679403273"><span class="annot"><span class="annottext">mk_reg :: (Register, v) -&gt; Maybe (SStatePart p, v, Set p)
</span><a href="#local-6989586621679403273"><span class="hs-identifier hs-var hs-var">mk_reg</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679403284"><span class="annot"><span class="annottext">Register
</span><a href="#local-6989586621679403284"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403285"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403285"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Register -&gt; ByteSize
</span><a href="Data.X86.Register.html#regSize"><span class="hs-identifier hs-var">regSize</span></a></span><span> </span><span class="annot"><span class="annottext">Register
</span><a href="#local-6989586621679403284"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">ByteSize -&gt; ByteSize -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; ByteSize
</span><a href="Data.Size.html#ByteSize"><span class="hs-identifier hs-var">ByteSize</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Register
</span><a href="#local-6989586621679403284"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Register -&gt; Register -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Register
</span><a href="Data.X86.Register.html#RegTemp"><span class="hs-identifier hs-var">RegTemp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span>
</span><span id="line-89"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679403298"><span class="annot"><span class="annottext">ptrs :: Set p
</span><a href="#local-6989586621679403298"><span class="hs-identifier hs-var hs-var">ptrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ctxt -&gt; String -&gt; v -&gt; Set p
forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt -&gt; String -&gt; v -&gt; Set p
</span><a href="WithAbstractSymbolicValues.Class.html#smk_mem_addresses"><span class="hs-identifier hs-var">smk_mem_addresses</span></a></span><span> </span><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403216"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;finit&quot;</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403285"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-90"></span><span>          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Set p -&gt; Bool
forall a. Set a -&gt; Bool
</span><span class="hs-identifier hs-var">S.null</span></span><span> </span><span class="annot"><span class="annottext">Set p
</span><a href="#local-6989586621679403298"><span class="hs-identifier hs-var">ptrs</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe (SStatePart p, v, Set p)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">(SStatePart p, v, Set p) -&gt; Maybe (SStatePart p, v, Set p)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">((SStatePart p, v, Set p) -&gt; Maybe (SStatePart p, v, Set p))
-&gt; (SStatePart p, v, Set p) -&gt; Maybe (SStatePart p, v, Set p)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Register -&gt; SStatePart p
forall p. Register -&gt; SStatePart p
</span><a href="WithAbstractSymbolicValues.Class.html#SSP_Reg"><span class="hs-identifier hs-var">SSP_Reg</span></a></span><span> </span><span class="annot"><span class="annottext">Register
</span><a href="#local-6989586621679403284"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403285"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Set p
</span><a href="#local-6989586621679403298"><span class="hs-identifier hs-var">ptrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (SStatePart p, v, Set p)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span>    </span><span id="local-6989586621679403277"><span class="annot"><span class="annottext">mk_mem :: ((p, Maybe ByteSize), v) -&gt; Maybe (SStatePart p, v, Set p)
</span><a href="#local-6989586621679403277"><span class="hs-identifier hs-var hs-var">mk_mem</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679403313"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403313"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Size.html#ByteSize"><span class="hs-identifier hs-type">ByteSize</span></a></span><span> </span><span id="local-6989586621679403314"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403314"><span class="hs-identifier hs-var">si</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span id="local-6989586621679403315"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403315"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-94"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ctxt -&gt; SStatePart p -&gt; v -&gt; Maybe (Set p)
forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt -&gt; SStatePart p -&gt; v -&gt; Maybe (Set p)
</span><a href="WithAbstractSymbolicValues.Class.html#skeep_for_finit"><span class="hs-identifier hs-var">skeep_for_finit</span></a></span><span> </span><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403216"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p -&gt; Int -&gt; SStatePart p
forall p. p -&gt; Int -&gt; SStatePart p
</span><a href="WithAbstractSymbolicValues.Class.html#SSP_Mem"><span class="hs-identifier hs-var">SSP_Mem</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403313"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403314"><span class="hs-identifier hs-var">si</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403315"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-95"></span><span>        </span><span class="annot"><span class="annottext">Maybe (Set p)
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (SStatePart p, v, Set p)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-96"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679403317"><span class="annot"><span class="annottext">Set p
</span><a href="#local-6989586621679403317"><span class="hs-identifier hs-var">ptrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SStatePart p, v, Set p) -&gt; Maybe (SStatePart p, v, Set p)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">((SStatePart p, v, Set p) -&gt; Maybe (SStatePart p, v, Set p))
-&gt; (SStatePart p, v, Set p) -&gt; Maybe (SStatePart p, v, Set p)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p -&gt; Int -&gt; SStatePart p
forall p. p -&gt; Int -&gt; SStatePart p
</span><a href="WithAbstractSymbolicValues.Class.html#SSP_Mem"><span class="hs-identifier hs-var">SSP_Mem</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403313"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; SStatePart p) -&gt; Int -&gt; SStatePart p
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403314"><span class="hs-identifier hs-var">si</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403315"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Set p
</span><a href="#local-6989586621679403317"><span class="hs-identifier hs-var">ptrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>    </span><span class="annot"><a href="#local-6989586621679403277"><span class="hs-identifier hs-var">mk_mem</span></a></span><span> </span><span class="annot"><span class="annottext">((p, Maybe ByteSize), v)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (SStatePart p, v, Set p)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span>    </span><span id="local-6989586621679403266"><span class="annot"><span class="annottext">mk_memrel :: ctxt -&gt; ((a, b, t p), (b, b, t p)) -&gt; Maybe ((a, b), MemRelation)
</span><a href="#local-6989586621679403266"><span class="hs-identifier hs-var hs-var">mk_memrel</span></a></span></span><span> </span><span id="local-6989586621679403341"><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403341"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679403342"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403342"><span class="hs-identifier hs-var">sp0</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403343"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679403343"><span class="hs-identifier hs-var">v0</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403344"><span class="annot"><span class="annottext">t p
</span><a href="#local-6989586621679403344"><span class="hs-identifier hs-var">ptrs0</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-special">(</span><span id="local-6989586621679403345"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679403345"><span class="hs-identifier hs-var">sp1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403346"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679403346"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403347"><span class="annot"><span class="annottext">t p
</span><a href="#local-6989586621679403347"><span class="hs-identifier hs-var">ptrs1</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-comment">-- TODO separation should be necc here</span><span>
</span><span id="line-101"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(p -&gt; Bool) -&gt; t p -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679403349"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403349"><span class="hs-identifier hs-var">ptr0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(p -&gt; Bool) -&gt; t p -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679403350"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403350"><span class="hs-identifier hs-var">ptr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ctxt
-&gt; String -&gt; p -&gt; Maybe ByteSize -&gt; p -&gt; Maybe ByteSize -&gt; Bool
forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt
-&gt; String -&gt; p -&gt; Maybe ByteSize -&gt; p -&gt; Maybe ByteSize -&gt; Bool
</span><a href="WithAbstractSymbolicValues.Class.html#sseparate"><span class="hs-identifier hs-var">sseparate</span></a></span><span> </span><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403341"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;invariant_to_finit&quot;</span></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403349"><span class="hs-identifier hs-var">ptr0</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteSize
forall a. Maybe a
</span><a href="WithAbstractSymbolicValues.Class.html#unknownSize"><span class="hs-identifier hs-var">unknownSize</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403350"><span class="hs-identifier hs-var">ptr1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteSize
forall a. Maybe a
</span><a href="WithAbstractSymbolicValues.Class.html#unknownSize"><span class="hs-identifier hs-var">unknownSize</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t p
</span><a href="#local-6989586621679403347"><span class="hs-identifier hs-var">ptrs1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t p
</span><a href="#local-6989586621679403344"><span class="hs-identifier hs-var">ptrs0</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, b), MemRelation) -&gt; Maybe ((a, b), MemRelation)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403342"><span class="hs-identifier hs-var">sp0</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679403345"><span class="hs-identifier hs-var">sp1</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="annottext">MemRelation
</span><a href="WithAbstractSymbolicValues.Class.html#Separate"><span class="hs-identifier hs-var">Separate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(p -&gt; Bool) -&gt; t p -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679403354"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403354"><span class="hs-identifier hs-var">ptr0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(p -&gt; Bool) -&gt; t p -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679403355"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403355"><span class="hs-identifier hs-var">ptr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ctxt -&gt; p -&gt; Maybe ByteSize -&gt; p -&gt; Maybe ByteSize -&gt; Bool
forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt -&gt; p -&gt; Maybe ByteSize -&gt; p -&gt; Maybe ByteSize -&gt; Bool
</span><a href="WithAbstractSymbolicValues.Class.html#salias"><span class="hs-identifier hs-var">salias</span></a></span><span> </span><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403341"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403354"><span class="hs-identifier hs-var">ptr0</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteSize
forall a. Maybe a
</span><a href="WithAbstractSymbolicValues.Class.html#unknownSize"><span class="hs-identifier hs-var">unknownSize</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679403355"><span class="hs-identifier hs-var">ptr1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ByteSize
forall a. Maybe a
</span><a href="WithAbstractSymbolicValues.Class.html#unknownSize"><span class="hs-identifier hs-var">unknownSize</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t p
</span><a href="#local-6989586621679403347"><span class="hs-identifier hs-var">ptrs1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t p
</span><a href="#local-6989586621679403344"><span class="hs-identifier hs-var">ptrs0</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, b), MemRelation) -&gt; Maybe ((a, b), MemRelation)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403342"><span class="hs-identifier hs-var">sp0</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679403345"><span class="hs-identifier hs-var">sp1</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="annottext">MemRelation
</span><a href="WithAbstractSymbolicValues.Class.html#Aliassing"><span class="hs-identifier hs-var">Aliassing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ((a, b), MemRelation)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span>    </span><span>
</span><span id="line-106"></span><span>    </span><span id="local-6989586621679403267"><span class="annot"><span class="annottext">keep_sp :: (SStatePart p, v) -&gt; Bool
</span><a href="#local-6989586621679403267"><span class="hs-identifier hs-var hs-var">keep_sp</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679403371"><span class="annot"><span class="annottext">sp :: SStatePart p
</span><a href="#local-6989586621679403371"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#SSP_Reg"><span class="hs-identifier hs-type">SSP_Reg</span></a></span><span> </span><span class="annot"><span class="annottext">Register
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span id="local-6989586621679403372"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403372"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ctxt -&gt; SStatePart p -&gt; v -&gt; Maybe (Set p)
forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt -&gt; SStatePart p -&gt; v -&gt; Maybe (Set p)
</span><a href="WithAbstractSymbolicValues.Class.html#skeep_for_finit"><span class="hs-identifier hs-var">skeep_for_finit</span></a></span><span> </span><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403216"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403371"><span class="hs-identifier hs-var">sp</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403372"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Set p) -&gt; Maybe (Set p) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Set p)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-107"></span><span>    </span><span class="annot"><a href="#local-6989586621679403267"><span class="hs-identifier hs-var">keep_sp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#SSP_Mem"><span class="hs-identifier hs-type">SSP_Mem</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679403373"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679403373"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="annot"><span class="hs-comment">-- | The join between two function initialisations</span></span><span>
</span><span id="line-112"></span><span id="local-6989586621679402972"><span id="local-6989586621679402973"><span id="local-6989586621679402974"><span class="annot"><a href="WithAbstractSymbolicValues.FInit.html#join_finit"><span class="hs-identifier hs-type">join_finit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#WithAbstractSymbolicValues"><span class="hs-identifier hs-type">WithAbstractSymbolicValues</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402972"><span class="hs-identifier hs-type">ctxt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402973"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402974"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679402972"><span class="hs-identifier hs-type">ctxt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-type">FInit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402973"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402974"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-type">FInit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402973"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402974"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-type">FInit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402973"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402974"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-113"></span><span id="join_finit"><span class="annot"><span class="annottext">join_finit :: forall ctxt v p.
WithAbstractSymbolicValues ctxt v p =&gt;
ctxt -&gt; FInit v p -&gt; FInit v p -&gt; FInit v p
</span><a href="WithAbstractSymbolicValues.FInit.html#join_finit"><span class="hs-identifier hs-var hs-var">join_finit</span></a></span></span><span> </span><span id="local-6989586621679403385"><span class="annot"><span class="annottext">ctxt
</span><a href="#local-6989586621679403385"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span id="local-6989586621679403386"><span class="annot"><span class="annottext">f0 :: FInit v p
</span><a href="#local-6989586621679403386"><span class="hs-identifier hs-var">f0</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-type">FInit</span></a></span><span> </span><span id="local-6989586621679403387"><span class="annot"><span class="annottext">Set (SStatePart p, v)
</span><a href="#local-6989586621679403387"><span class="hs-identifier hs-var">sps0</span></a></span></span><span> </span><span id="local-6989586621679403388"><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403388"><span class="hs-identifier hs-var">m0</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679403389"><span class="annot"><span class="annottext">f1 :: FInit v p
</span><a href="#local-6989586621679403389"><span class="hs-identifier hs-var">f1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-type">FInit</span></a></span><span> </span><span id="local-6989586621679403390"><span class="annot"><span class="annottext">Set (SStatePart p, v)
</span><a href="#local-6989586621679403390"><span class="hs-identifier hs-var">sps1</span></a></span></span><span> </span><span id="local-6989586621679403391"><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403391"><span class="hs-identifier hs-var">m1</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FInit v p
</span><a href="#local-6989586621679403386"><span class="hs-identifier hs-var">f0</span></a></span><span> </span><span class="annot"><span class="annottext">FInit v p -&gt; FInit v p -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">FInit v p
</span><a href="#local-6989586621679403389"><span class="hs-identifier hs-var">f1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FInit v p
</span><a href="#local-6989586621679403386"><span class="hs-identifier hs-var">f0</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p, v)
-&gt; Map (SStatePart p, SStatePart p) MemRelation -&gt; FInit v p
forall v p.
Set (SStatePart p, v)
-&gt; Map (SStatePart p, SStatePart p) MemRelation -&gt; FInit v p
</span><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-var">FInit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set (SStatePart p, v)
-&gt; Set (SStatePart p, v) -&gt; Set (SStatePart p, v)
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-identifier hs-var">S.intersection</span></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p, v)
</span><a href="#local-6989586621679403387"><span class="hs-identifier hs-var">sps0</span></a></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p, v)
</span><a href="#local-6989586621679403390"><span class="hs-identifier hs-var">sps1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(MemRelation -&gt; MemRelation -&gt; MemRelation)
-&gt; Map (SStatePart p, SStatePart p) MemRelation
-&gt; Map (SStatePart p, SStatePart p) MemRelation
-&gt; Map (SStatePart p, SStatePart p) MemRelation
forall k a b c.
Ord k =&gt;
(a -&gt; b -&gt; c) -&gt; Map k a -&gt; Map k b -&gt; Map k c
</span><span class="hs-identifier hs-var">M.intersectionWith</span></span><span> </span><span class="annot"><span class="annottext">MemRelation -&gt; MemRelation -&gt; MemRelation
</span><a href="#local-6989586621679403394"><span class="hs-identifier hs-var">join_rel</span></a></span><span> </span><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403388"><span class="hs-identifier hs-var">m0</span></a></span><span> </span><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403391"><span class="hs-identifier hs-var">m1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-117"></span><span>  </span><span id="local-6989586621679403394"><span class="annot"><span class="annottext">join_rel :: MemRelation -&gt; MemRelation -&gt; MemRelation
</span><a href="#local-6989586621679403394"><span class="hs-identifier hs-var hs-var">join_rel</span></a></span></span><span> </span><span id="local-6989586621679403397"><span class="annot"><span class="annottext">MemRelation
</span><a href="#local-6989586621679403397"><span class="hs-identifier hs-var">r0</span></a></span></span><span> </span><span id="local-6989586621679403398"><span class="annot"><span class="annottext">MemRelation
</span><a href="#local-6989586621679403398"><span class="hs-identifier hs-var">r1</span></a></span></span><span>
</span><span id="line-118"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">MemRelation
</span><a href="#local-6989586621679403397"><span class="hs-identifier hs-var">r0</span></a></span><span> </span><span class="annot"><span class="annottext">MemRelation -&gt; MemRelation -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">MemRelation
</span><a href="#local-6989586621679403398"><span class="hs-identifier hs-var">r1</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MemRelation
</span><a href="#local-6989586621679403397"><span class="hs-identifier hs-var">r0</span></a></span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MemRelation
</span><a href="WithAbstractSymbolicValues.Class.html#Unknown"><span class="hs-identifier hs-var">Unknown</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span id="local-6989586621679402985"><span id="local-6989586621679402986"><span class="annot"><a href="WithAbstractSymbolicValues.FInit.html#pp_finitC"><span class="hs-identifier hs-type">pp_finitC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679402985"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679402986"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679402985"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-type">FInit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402986"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679402985"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span></span><span>
</span><span id="line-123"></span><span id="pp_finitC"><span class="annot"><span class="annottext">pp_finitC :: forall p v. (Show p, Show v, Ord p) =&gt; FInit v p -&gt; String
</span><a href="WithAbstractSymbolicValues.FInit.html#pp_finitC"><span class="hs-identifier hs-var hs-var">pp_finitC</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="WithAbstractSymbolicValues.Class.html#FInit"><span class="hs-identifier hs-type">FInit</span></a></span><span> </span><span id="local-6989586621679403409"><span class="annot"><span class="annottext">Set (SStatePart p, v)
</span><a href="#local-6989586621679403409"><span class="hs-identifier hs-var">sps</span></a></span></span><span> </span><span id="local-6989586621679403410"><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403410"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; [String] -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">([Set (SStatePart p)] -&gt; String)
-&gt; [[Set (SStatePart p)]] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">[Set (SStatePart p)] -&gt; String
forall {a}. Show a =&gt; [Set a] -&gt; String
</span><a href="#local-6989586621679403411"><span class="hs-identifier hs-var">show_group</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[[SStatePart p]] -&gt; [[Set (SStatePart p)]]
</span><a href="#local-6989586621679403412"><span class="hs-identifier hs-var">group_separations</span></a></span><span> </span><span class="annot"><span class="annottext">([[SStatePart p]] -&gt; [[Set (SStatePart p)]])
-&gt; [[SStatePart p]] -&gt; [[Set (SStatePart p)]]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation -&gt; [[SStatePart p]]
forall {a}. Map (SStatePart p, SStatePart p) a -&gt; [[SStatePart p]]
</span><a href="#local-6989586621679403413"><span class="hs-identifier hs-var">group_aliasses</span></a></span><span> </span><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403410"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((SStatePart p, v) -&gt; String) -&gt; [(SStatePart p, v)] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(SStatePart p, v) -&gt; String
forall {a} {a}. (Show a, Show a) =&gt; (a, a) -&gt; String
</span><a href="#local-6989586621679403414"><span class="hs-identifier hs-var">show_sp</span></a></span><span> </span><span class="annot"><span class="annottext">([(SStatePart p, v)] -&gt; [String])
-&gt; [(SStatePart p, v)] -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p, v) -&gt; [(SStatePart p, v)]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p, v)
</span><a href="#local-6989586621679403409"><span class="hs-identifier hs-var">sps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-125"></span><span>  </span><span id="local-6989586621679403413"><span class="annot"><span class="annottext">group_aliasses :: Map (SStatePart p, SStatePart p) a -&gt; [[SStatePart p]]
</span><a href="#local-6989586621679403413"><span class="hs-identifier hs-var hs-var">group_aliasses</span></a></span></span><span> </span><span id="local-6989586621679403415"><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) a
</span><a href="#local-6989586621679403415"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679403423"><span class="annot"><span class="annottext">sps :: [SStatePart p]
</span><a href="#local-6989586621679403423"><span class="hs-identifier hs-var hs-var">sps</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p) -&gt; [SStatePart p]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">(Set (SStatePart p) -&gt; [SStatePart p])
-&gt; Set (SStatePart p) -&gt; [SStatePart p]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[SStatePart p] -&gt; Set (SStatePart p)
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">S.fromList</span></span><span> </span><span class="annot"><span class="annottext">([SStatePart p] -&gt; Set (SStatePart p))
-&gt; [SStatePart p] -&gt; Set (SStatePart p)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((SStatePart p, SStatePart p) -&gt; [SStatePart p])
-&gt; [(SStatePart p, SStatePart p)] -&gt; [SStatePart p]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679403425"><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403425"><span class="hs-identifier hs-var">sp0</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403426"><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403426"><span class="hs-identifier hs-var">sp1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403425"><span class="hs-identifier hs-var">sp0</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403426"><span class="hs-identifier hs-var">sp1</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(SStatePart p, SStatePart p)] -&gt; [SStatePart p])
-&gt; [(SStatePart p, SStatePart p)] -&gt; [SStatePart p]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) a
-&gt; [(SStatePart p, SStatePart p)]
forall k a. Map k a -&gt; [k]
</span><span class="hs-identifier hs-var">M.keys</span></span><span> </span><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) a
</span><a href="#local-6989586621679403415"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-127"></span><span>        </span><span id="local-6989586621679403431"><span class="annot"><span class="annottext">numbered_sps :: [(Int, SStatePart p)]
</span><a href="#local-6989586621679403431"><span class="hs-identifier hs-var hs-var">numbered_sps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; [SStatePart p] -&gt; [(Int, SStatePart p)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[SStatePart p]
</span><a href="#local-6989586621679403423"><span class="hs-identifier hs-var">sps</span></a></span><span>
</span><span id="line-128"></span><span>        </span><span id="local-6989586621679403434"><span class="annot"><span class="annottext">g :: Graph
</span><a href="#local-6989586621679403434"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntMap IntSet -&gt; Graph
</span><a href="Base.html#Edges"><span class="hs-identifier hs-var">Edges</span></a></span><span> </span><span class="annot"><span class="annottext">(IntMap IntSet -&gt; Graph) -&gt; IntMap IntSet -&gt; Graph
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Int, IntSet)] -&gt; IntMap IntSet
forall a. [(Int, a)] -&gt; IntMap a
</span><span class="hs-identifier hs-var">IM.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(Int, IntSet)] -&gt; IntMap IntSet)
-&gt; [(Int, IntSet)] -&gt; IntMap IntSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Int, SStatePart p) -&gt; (Int, IntSet))
-&gt; [(Int, SStatePart p)] -&gt; [(Int, IntSet)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679403437"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403437"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403438"><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403438"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403437"><span class="hs-identifier hs-var">idx</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Int] -&gt; IntSet
</span><span class="hs-identifier hs-var">IS.fromList</span></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; IntSet) -&gt; [Int] -&gt; IntSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">MemRelation
-&gt; (Int, SStatePart p) -&gt; [(Int, SStatePart p)] -&gt; [Int]
forall {a}.
Eq a =&gt;
MemRelation -&gt; (a, SStatePart p) -&gt; [(a, SStatePart p)] -&gt; [a]
</span><a href="#local-6989586621679403440"><span class="hs-identifier hs-var">related_to</span></a></span><span> </span><span class="annot"><span class="annottext">MemRelation
</span><a href="WithAbstractSymbolicValues.Class.html#Aliassing"><span class="hs-identifier hs-var">Aliassing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403437"><span class="hs-identifier hs-var">idx</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403438"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, SStatePart p)]
</span><a href="#local-6989586621679403431"><span class="hs-identifier hs-var">numbered_sps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, SStatePart p)]
</span><a href="#local-6989586621679403431"><span class="hs-identifier hs-var">numbered_sps</span></a></span><span>
</span><span id="line-129"></span><span>        </span><span id="local-6989586621679403443"><span class="annot"><span class="annottext">sccs :: [IntSet]
</span><a href="#local-6989586621679403443"><span class="hs-identifier hs-var hs-var">sccs</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Graph -&gt; IntSet -&gt; [IntSet]
forall g. IntGraph g =&gt; g -&gt; IntSet -&gt; [IntSet]
</span><a href="Algorithm.SCC.html#all_sccs"><span class="hs-identifier hs-var">all_sccs</span></a></span><span> </span><span class="annot"><span class="annottext">Graph
</span><a href="#local-6989586621679403434"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">IntSet
</span><span class="hs-identifier hs-var">IS.empty</span></span><span>
</span><span id="line-130"></span><span>        </span><span id="local-6989586621679403448"><span class="annot"><span class="annottext">groups :: [[SStatePart p]]
</span><a href="#local-6989586621679403448"><span class="hs-identifier hs-var hs-var">groups</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IntSet -&gt; [SStatePart p]) -&gt; [IntSet] -&gt; [[SStatePart p]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; SStatePart p) -&gt; [Int] -&gt; [SStatePart p]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679403449"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403449"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (SStatePart p) -&gt; SStatePart p
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (SStatePart p) -&gt; SStatePart p)
-&gt; Maybe (SStatePart p) -&gt; SStatePart p
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IntMap (SStatePart p) -&gt; Maybe (SStatePart p)
forall a. Int -&gt; IntMap a -&gt; Maybe a
</span><span class="hs-identifier hs-var">IM.lookup</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403449"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">(IntMap (SStatePart p) -&gt; Maybe (SStatePart p))
-&gt; IntMap (SStatePart p) -&gt; Maybe (SStatePart p)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SStatePart p)] -&gt; IntMap (SStatePart p)
forall a. [(Int, a)] -&gt; IntMap a
</span><span class="hs-identifier hs-var">IM.fromList</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SStatePart p)]
</span><a href="#local-6989586621679403431"><span class="hs-identifier hs-var">numbered_sps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; [SStatePart p])
-&gt; (IntSet -&gt; [Int]) -&gt; IntSet -&gt; [SStatePart p]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IntSet -&gt; [Int]
</span><span class="hs-identifier hs-var">IS.toList</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[IntSet]
</span><a href="#local-6989586621679403443"><span class="hs-identifier hs-var">sccs</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-131"></span><span>      </span><span class="annot"><span class="annottext">[[SStatePart p]]
</span><a href="#local-6989586621679403448"><span class="hs-identifier hs-var">groups</span></a></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span>  </span><span id="local-6989586621679403412"><span class="annot"><span class="annottext">group_separations :: [[SStatePart p]] -&gt; [[Set (SStatePart p)]]
</span><a href="#local-6989586621679403412"><span class="hs-identifier hs-var hs-var">group_separations</span></a></span></span><span> </span><span id="local-6989586621679403454"><span class="annot"><span class="annottext">[[SStatePart p]]
</span><a href="#local-6989586621679403454"><span class="hs-identifier hs-var">groups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679403462"><span class="annot"><span class="annottext">numbered_groups :: [(Int, Set (SStatePart p))]
</span><a href="#local-6989586621679403462"><span class="hs-identifier hs-var hs-var">numbered_groups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; [Set (SStatePart p)] -&gt; [(Int, Set (SStatePart p))]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">([Set (SStatePart p)] -&gt; [(Int, Set (SStatePart p))])
-&gt; [Set (SStatePart p)] -&gt; [(Int, Set (SStatePart p))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">([SStatePart p] -&gt; Set (SStatePart p))
-&gt; [[SStatePart p]] -&gt; [Set (SStatePart p)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">[SStatePart p] -&gt; Set (SStatePart p)
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">S.fromList</span></span><span> </span><span class="annot"><span class="annottext">[[SStatePart p]]
</span><a href="#local-6989586621679403454"><span class="hs-identifier hs-var">groups</span></a></span><span>
</span><span id="line-135"></span><span>        </span><span id="local-6989586621679403464"><span class="annot"><span class="annottext">g :: Graph
</span><a href="#local-6989586621679403464"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntMap IntSet -&gt; Graph
</span><a href="Base.html#Edges"><span class="hs-identifier hs-var">Edges</span></a></span><span> </span><span class="annot"><span class="annottext">(IntMap IntSet -&gt; Graph) -&gt; IntMap IntSet -&gt; Graph
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Int, IntSet)] -&gt; IntMap IntSet
forall a. [(Int, a)] -&gt; IntMap a
</span><span class="hs-identifier hs-var">IM.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(Int, IntSet)] -&gt; IntMap IntSet)
-&gt; [(Int, IntSet)] -&gt; IntMap IntSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Int, Set (SStatePart p)) -&gt; (Int, IntSet))
-&gt; [(Int, Set (SStatePart p))] -&gt; [(Int, IntSet)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679403465"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403465"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403466"><span class="annot"><span class="annottext">Set (SStatePart p)
</span><a href="#local-6989586621679403466"><span class="hs-identifier hs-var">sps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403465"><span class="hs-identifier hs-var">idx</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Int] -&gt; IntSet
</span><span class="hs-identifier hs-var">IS.fromList</span></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; IntSet) -&gt; [Int] -&gt; IntSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Int, Set (SStatePart p)) -&gt; [(Int, Set (SStatePart p))] -&gt; [Int]
forall {a}.
Eq a =&gt;
(a, Set (SStatePart p)) -&gt; [(a, Set (SStatePart p))] -&gt; [a]
</span><a href="#local-6989586621679403467"><span class="hs-identifier hs-var">related_to_group</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403465"><span class="hs-identifier hs-var">idx</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Set (SStatePart p)
</span><a href="#local-6989586621679403466"><span class="hs-identifier hs-var">sps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, Set (SStatePart p))]
</span><a href="#local-6989586621679403462"><span class="hs-identifier hs-var">numbered_groups</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, Set (SStatePart p))]
</span><a href="#local-6989586621679403462"><span class="hs-identifier hs-var">numbered_groups</span></a></span><span>
</span><span id="line-136"></span><span>        </span><span id="local-6989586621679403469"><span class="annot"><span class="annottext">sccs :: [IntSet]
</span><a href="#local-6989586621679403469"><span class="hs-identifier hs-var hs-var">sccs</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Graph -&gt; IntSet -&gt; [IntSet]
forall g. IntGraph g =&gt; g -&gt; IntSet -&gt; [IntSet]
</span><a href="Algorithm.SCC.html#all_sccs"><span class="hs-identifier hs-var">all_sccs</span></a></span><span> </span><span class="annot"><span class="annottext">Graph
</span><a href="#local-6989586621679403464"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">IntSet
</span><span class="hs-identifier hs-var">IS.empty</span></span><span>
</span><span id="line-137"></span><span>        </span><span id="local-6989586621679403472"><span class="annot"><span class="annottext">groups' :: [[Set (SStatePart p)]]
</span><a href="#local-6989586621679403472"><span class="hs-identifier hs-var hs-var">groups'</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IntSet -&gt; [Set (SStatePart p)])
-&gt; [IntSet] -&gt; [[Set (SStatePart p)]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int -&gt; Set (SStatePart p)) -&gt; [Int] -&gt; [Set (SStatePart p)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679403473"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403473"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Set (SStatePart p)) -&gt; Set (SStatePart p)
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (Set (SStatePart p)) -&gt; Set (SStatePart p))
-&gt; Maybe (Set (SStatePart p)) -&gt; Set (SStatePart p)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IntMap (Set (SStatePart p)) -&gt; Maybe (Set (SStatePart p))
forall a. Int -&gt; IntMap a -&gt; Maybe a
</span><span class="hs-identifier hs-var">IM.lookup</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679403473"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">(IntMap (Set (SStatePart p)) -&gt; Maybe (Set (SStatePart p)))
-&gt; IntMap (Set (SStatePart p)) -&gt; Maybe (Set (SStatePart p))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Int, Set (SStatePart p))] -&gt; IntMap (Set (SStatePart p))
forall a. [(Int, a)] -&gt; IntMap a
</span><span class="hs-identifier hs-var">IM.fromList</span></span><span> </span><span class="annot"><span class="annottext">[(Int, Set (SStatePart p))]
</span><a href="#local-6989586621679403462"><span class="hs-identifier hs-var">numbered_groups</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; [Set (SStatePart p)])
-&gt; (IntSet -&gt; [Int]) -&gt; IntSet -&gt; [Set (SStatePart p)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IntSet -&gt; [Int]
</span><span class="hs-identifier hs-var">IS.toList</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[IntSet]
</span><a href="#local-6989586621679403469"><span class="hs-identifier hs-var">sccs</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-138"></span><span>      </span><span class="annot"><span class="annottext">[[Set (SStatePart p)]]
</span><a href="#local-6989586621679403472"><span class="hs-identifier hs-var">groups'</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span>  </span><span id="local-6989586621679403411"><span class="annot"><span class="annottext">show_group :: [Set a] -&gt; String
</span><a href="#local-6989586621679403411"><span class="hs-identifier hs-var hs-var">show_group</span></a></span></span><span> </span><span id="local-6989586621679403476"><span class="annot"><span class="annottext">[Set a]
</span><a href="#local-6989586621679403476"><span class="hs-identifier hs-var">group</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; | &quot;</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; [String] -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Set a -&gt; String) -&gt; [Set a] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Set a -&gt; String
forall {a}. Show a =&gt; Set a -&gt; String
</span><a href="#local-6989586621679403477"><span class="hs-identifier hs-var">show_aliassing_group</span></a></span><span> </span><span class="annot"><span class="annottext">[Set a]
</span><a href="#local-6989586621679403476"><span class="hs-identifier hs-var">group</span></a></span><span> </span><span>
</span><span id="line-141"></span><span>  </span><span id="local-6989586621679403477"><span class="annot"><span class="annottext">show_aliassing_group :: Set a -&gt; String
</span><a href="#local-6989586621679403477"><span class="hs-identifier hs-var hs-var">show_aliassing_group</span></a></span></span><span> </span><span id="local-6989586621679403483"><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621679403483"><span class="hs-identifier hs-var">group</span></a></span></span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Set a -&gt; Int
forall a. Set a -&gt; Int
</span><span class="hs-identifier hs-var">S.size</span></span><span> </span><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621679403483"><span class="hs-identifier hs-var">group</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; String) -&gt; a -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set a -&gt; a
forall a. Set a -&gt; a
</span><span class="hs-identifier hs-var">S.findMin</span></span><span> </span><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621679403483"><span class="hs-identifier hs-var">group</span></a></span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; aliasses &quot;</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; [String] -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; String) -&gt; [a] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [String]) -&gt; [a] -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set a -&gt; [a]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621679403483"><span class="hs-identifier hs-var">group</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span>  </span><span id="local-6989586621679403440"><span class="annot"><span class="annottext">related_to :: MemRelation -&gt; (a, SStatePart p) -&gt; [(a, SStatePart p)] -&gt; [a]
</span><a href="#local-6989586621679403440"><span class="hs-identifier hs-var hs-var">related_to</span></a></span></span><span> </span><span id="local-6989586621679403488"><span class="annot"><span class="annottext">MemRelation
</span><a href="#local-6989586621679403488"><span class="hs-identifier hs-var">rel</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679403489"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403489"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403490"><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403490"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679403491"><span class="annot"><span class="annottext">[(a, SStatePart p)]
</span><a href="#local-6989586621679403491"><span class="hs-identifier hs-var">numbered_sps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, SStatePart p) -&gt; a) -&gt; [(a, SStatePart p)] -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(a, SStatePart p) -&gt; a
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">([(a, SStatePart p)] -&gt; [a]) -&gt; [(a, SStatePart p)] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((a, SStatePart p) -&gt; Bool)
-&gt; [(a, SStatePart p)] -&gt; [(a, SStatePart p)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679403493"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403493"><span class="hs-identifier hs-var">idx'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403494"><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403494"><span class="hs-identifier hs-var">sp'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403489"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403493"><span class="hs-identifier hs-var">idx'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">MemRelation -&gt; (SStatePart p, SStatePart p) -&gt; Bool
</span><a href="#local-6989586621679403495"><span class="hs-identifier hs-var">hasRelation</span></a></span><span> </span><span class="annot"><span class="annottext">MemRelation
</span><a href="#local-6989586621679403488"><span class="hs-identifier hs-var">rel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403490"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403494"><span class="hs-identifier hs-var">sp'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(a, SStatePart p)]
</span><a href="#local-6989586621679403491"><span class="hs-identifier hs-var">numbered_sps</span></a></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span>  </span><span id="local-6989586621679403467"><span class="annot"><span class="annottext">related_to_group :: (a, Set (SStatePart p)) -&gt; [(a, Set (SStatePart p))] -&gt; [a]
</span><a href="#local-6989586621679403467"><span class="hs-identifier hs-var hs-var">related_to_group</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679403499"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403499"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403500"><span class="annot"><span class="annottext">Set (SStatePart p)
</span><a href="#local-6989586621679403500"><span class="hs-identifier hs-var">sps</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679403501"><span class="annot"><span class="annottext">[(a, Set (SStatePart p))]
</span><a href="#local-6989586621679403501"><span class="hs-identifier hs-var">numbered_groups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, Set (SStatePart p)) -&gt; a) -&gt; [(a, Set (SStatePart p))] -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(a, Set (SStatePart p)) -&gt; a
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">([(a, Set (SStatePart p))] -&gt; [a])
-&gt; [(a, Set (SStatePart p))] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((a, Set (SStatePart p)) -&gt; Bool)
-&gt; [(a, Set (SStatePart p))] -&gt; [(a, Set (SStatePart p))]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679403502"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403502"><span class="hs-identifier hs-var">idx'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403503"><span class="annot"><span class="annottext">Set (SStatePart p)
</span><a href="#local-6989586621679403503"><span class="hs-identifier hs-var">sps'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403499"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403502"><span class="hs-identifier hs-var">idx'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">((SStatePart p, SStatePart p) -&gt; Bool)
-&gt; Set (SStatePart p, SStatePart p) -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MemRelation -&gt; (SStatePart p, SStatePart p) -&gt; Bool
</span><a href="#local-6989586621679403495"><span class="hs-identifier hs-var">hasRelation</span></a></span><span> </span><span class="annot"><span class="annottext">MemRelation
</span><a href="WithAbstractSymbolicValues.Class.html#Separate"><span class="hs-identifier hs-var">Separate</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set (SStatePart p)
-&gt; Set (SStatePart p) -&gt; Set (SStatePart p, SStatePart p)
forall a b. Set a -&gt; Set b -&gt; Set (a, b)
</span><span class="hs-identifier hs-var">S.cartesianProduct</span></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p)
</span><a href="#local-6989586621679403500"><span class="hs-identifier hs-var">sps</span></a></span><span> </span><span class="annot"><span class="annottext">Set (SStatePart p)
</span><a href="#local-6989586621679403503"><span class="hs-identifier hs-var">sps'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(a, Set (SStatePart p))]
</span><a href="#local-6989586621679403501"><span class="hs-identifier hs-var">numbered_groups</span></a></span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span>  </span><span id="local-6989586621679403495"><span class="annot"><span class="annottext">hasRelation :: MemRelation -&gt; (SStatePart p, SStatePart p) -&gt; Bool
</span><a href="#local-6989586621679403495"><span class="hs-identifier hs-var hs-var">hasRelation</span></a></span></span><span> </span><span id="local-6989586621679403514"><span class="annot"><span class="annottext">MemRelation
</span><a href="#local-6989586621679403514"><span class="hs-identifier hs-var">rel</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679403515"><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403515"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403516"><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403516"><span class="hs-identifier hs-var">sp'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SStatePart p, SStatePart p)
-&gt; Map (SStatePart p, SStatePart p) MemRelation
-&gt; Maybe MemRelation
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">M.lookup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403515"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403516"><span class="hs-identifier hs-var">sp'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403410"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MemRelation -&gt; Maybe MemRelation -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">MemRelation -&gt; Maybe MemRelation
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">MemRelation
</span><a href="#local-6989586621679403514"><span class="hs-identifier hs-var">rel</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">(SStatePart p, SStatePart p)
-&gt; Map (SStatePart p, SStatePart p) MemRelation
-&gt; Maybe MemRelation
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">M.lookup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403516"><span class="hs-identifier hs-var">sp'</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">SStatePart p
</span><a href="#local-6989586621679403515"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map (SStatePart p, SStatePart p) MemRelation
</span><a href="#local-6989586621679403410"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MemRelation -&gt; Maybe MemRelation -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">MemRelation -&gt; Maybe MemRelation
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">MemRelation
</span><a href="#local-6989586621679403514"><span class="hs-identifier hs-var">rel</span></a></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span>  </span><span id="local-6989586621679403414"><span class="annot"><span class="annottext">show_sp :: (a, a) -&gt; String
</span><a href="#local-6989586621679403414"><span class="hs-identifier hs-var hs-var">show_sp</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679403523"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403523"><span class="hs-identifier hs-var">sp</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679403524"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403524"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403523"><span class="hs-identifier hs-var">sp</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; := &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679403524"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span></pre></body></html>