<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DeriveGeneric, StrictData, FlexibleContexts #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">WithAbstractPredicates.GenerateInvariants</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Base.html"><span class="hs-identifier">Base</span></a></span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Config.html"><span class="hs-identifier">Config</span></a></span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="WithAbstractPredicates.ControlFlow.html"><span class="hs-identifier">WithAbstractPredicates.ControlFlow</span></a></span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.X86.Opcode.html"><span class="hs-identifier">Data.X86.Opcode</span></a></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.CFG.html"><span class="hs-identifier">Data.CFG</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.VerificationCondition.html"><span class="hs-identifier">Data.VerificationCondition</span></a></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.L0.html"><span class="hs-identifier">Data.L0</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Indirection.html"><span class="hs-identifier">Data.Indirection</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.X86.Instruction.html"><span class="hs-identifier">Data.X86.Instruction</span></a></span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="WithAbstractPredicates.Class.html"><span class="hs-identifier">WithAbstractPredicates.Class</span></a></span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.IntMap</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IM</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.IntSet</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IS</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.State.Strict</span></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-comment">-- | Start propagation at the given entry address with the given initial predicate.</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- Returns a set of invariants, i.e., a mapping of instruction addresses to predicates.</span><span>
</span><span id="line-29"></span><span class="hs-comment">--</span><span>
</span><span id="line-30"></span><span class="hs-comment">-- Assumes blockID 0 is start of function</span><span>
</span><span id="line-31"></span><span id="local-6989586621679395923"><span id="local-6989586621679395924"><span id="local-6989586621679395925"><span id="local-6989586621679395926"><span class="annot"><a href="WithAbstractPredicates.GenerateInvariants.html#generate_invariants"><span class="hs-identifier hs-type">generate_invariants</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="WithAbstractPredicates.Class.html#WithAbstractPredicates"><span class="hs-identifier hs-type">WithAbstractPredicates</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395923"><span class="hs-identifier hs-type">bin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395924"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395925"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395926"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.L0.html#LiftingEntry"><span class="hs-identifier hs-type">LiftingEntry</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395923"><span class="hs-identifier hs-type">bin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395924"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395925"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395926"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.CFG.html#CFG"><span class="hs-identifier hs-type">CFG</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679395925"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IM.IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679395924"><span class="hs-identifier hs-type">pred</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Data.VerificationCondition.html#VCS"><span class="hs-identifier hs-type">VCS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395926"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-32"></span><span id="generate_invariants"><span class="annot"><span class="annottext">generate_invariants :: forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; CFG -&gt; finit -&gt; (IntMap pred, VCS v)
</span><a href="WithAbstractPredicates.GenerateInvariants.html#generate_invariants"><span class="hs-identifier hs-var hs-var">generate_invariants</span></a></span></span><span> </span><span id="local-6989586621679396141"><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396141"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679396142"><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396142"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621679396143"><span class="annot"><span class="annottext">finit
</span><a href="#local-6989586621679396143"><span class="hs-identifier hs-var">finit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679396153"><span class="annot"><span class="annottext">p :: pred
</span><a href="#local-6989586621679396153"><span class="hs-identifier hs-var hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v -&gt; finit -&gt; pred
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v -&gt; finit -&gt; pred
</span><a href="WithAbstractPredicates.Class.html#finit_to_init_pred"><span class="hs-identifier hs-var">finit_to_init_pred</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396141"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">finit
</span><a href="#local-6989586621679396143"><span class="hs-identifier hs-var">finit</span></a></span><span>
</span><span id="line-34"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679396164"><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396164"><span class="hs-identifier hs-var">invs</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Set (Int, Int)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679396165"><span class="annot"><span class="annottext">VCS v
</span><a href="#local-6989586621679396165"><span class="hs-identifier hs-var">vcs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State (IntMap pred, Set (Int, Int), VCS v) ()
-&gt; (IntMap pred, Set (Int, Int), VCS v)
-&gt; (IntMap pred, Set (Int, Int), VCS v)
forall s a. State s a -&gt; s -&gt; s
</span><span class="hs-identifier hs-var">execState</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
-&gt; CFG -&gt; State (IntMap pred, Set (Int, Int), VCS v) ()
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; CFG -&gt; State (IntMap pred, Set (Int, Int), VCS v) ()
</span><a href="WithAbstractPredicates.GenerateInvariants.html#propagate"><span class="hs-identifier hs-var">propagate</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396141"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396142"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; pred -&gt; IntMap pred
forall a. Int -&gt; a -&gt; IntMap a
</span><span class="hs-identifier hs-var">IM.singleton</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">pred
</span><a href="#local-6989586621679396153"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CFG -&gt; Int -&gt; Set (Int, Int)
</span><a href="WithAbstractPredicates.GenerateInvariants.html#out_edges"><span class="hs-identifier hs-var">out_edges</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396142"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">VCS v
forall a. Set a
</span><span class="hs-identifier hs-var">S.empty</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>      </span><span id="local-6989586621679396171"><span class="annot"><span class="annottext">blocks :: [(Int, [Instruction])]
</span><a href="#local-6989586621679396171"><span class="hs-identifier hs-var hs-var">blocks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntMap [Instruction] -&gt; [(Int, [Instruction])]
forall a. IntMap a -&gt; [(Int, a)]
</span><span class="hs-identifier hs-var">IM.assocs</span></span><span> </span><span class="annot"><span class="annottext">(IntMap [Instruction] -&gt; [(Int, [Instruction])])
-&gt; IntMap [Instruction] -&gt; [(Int, [Instruction])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CFG -&gt; IntMap [Instruction]
</span><a href="Data.CFG.html#cfg_instrs"><span class="hs-identifier hs-var">cfg_instrs</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396142"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-36"></span><span>      </span><span id="local-6989586621679396174"><span class="annot"><span class="annottext">end_blocks :: [(Int, [Instruction])]
</span><a href="#local-6989586621679396174"><span class="hs-identifier hs-var hs-var">end_blocks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, [Instruction]) -&gt; Bool)
-&gt; [(Int, [Instruction])] -&gt; [(Int, [Instruction])]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679396175"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396175"><span class="hs-identifier hs-var">blockID</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Instruction]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CFG -&gt; Int -&gt; Bool
</span><a href="Data.CFG.html#is_end_node"><span class="hs-identifier hs-var">is_end_node</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396142"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396175"><span class="hs-identifier hs-var">blockID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, [Instruction])]
</span><a href="#local-6989586621679396171"><span class="hs-identifier hs-var">blocks</span></a></span><span>
</span><span id="line-37"></span><span>      </span><span id="local-6989586621679396186"><span class="annot"><span class="annottext">vcs' :: [VCS v]
</span><a href="#local-6989586621679396186"><span class="hs-identifier hs-var hs-var">vcs'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, [Instruction]) -&gt; VCS v)
-&gt; [(Int, [Instruction])] -&gt; [VCS v]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679396187"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396187"><span class="hs-identifier hs-var">blockID</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396188"><span class="annot"><span class="annottext">[Instruction]
</span><a href="#local-6989586621679396188"><span class="hs-identifier hs-var">instrs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(pred, VCS v) -&gt; VCS v
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((pred, VCS v) -&gt; VCS v) -&gt; (pred, VCS v) -&gt; VCS v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
-&gt; Int -&gt; [Instruction] -&gt; IntMap pred -&gt; (pred, VCS v)
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; Int -&gt; [Instruction] -&gt; IntMap pred -&gt; (pred, VCS v)
</span><a href="WithAbstractPredicates.GenerateInvariants.html#get_postcondition_for_block"><span class="hs-identifier hs-var">get_postcondition_for_block</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396141"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396187"><span class="hs-identifier hs-var">blockID</span></a></span><span> </span><span class="annot"><span class="annottext">[Instruction]
</span><a href="#local-6989586621679396188"><span class="hs-identifier hs-var">instrs</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396164"><span class="hs-identifier hs-var">invs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, [Instruction])]
</span><a href="#local-6989586621679396174"><span class="hs-identifier hs-var">end_blocks</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396164"><span class="hs-identifier hs-var">invs</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[VCS v] -&gt; VCS v
forall (f :: * -&gt; *) a. (Foldable f, Ord a) =&gt; f (Set a) -&gt; Set a
</span><span class="hs-identifier hs-var">S.unions</span></span><span> </span><span class="annot"><span class="annottext">([VCS v] -&gt; VCS v) -&gt; [VCS v] -&gt; VCS v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">VCS v
</span><a href="#local-6989586621679396165"><span class="hs-identifier hs-var">vcs</span></a></span><span class="annot"><span class="annottext">VCS v -&gt; [VCS v] -&gt; [VCS v]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[VCS v]
</span><a href="#local-6989586621679396186"><span class="hs-identifier hs-var">vcs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span id="local-6989586621679395971"><span id="local-6989586621679395972"><span id="local-6989586621679395973"><span id="local-6989586621679395974"><span class="annot"><a href="WithAbstractPredicates.GenerateInvariants.html#invs_to_PA"><span class="hs-identifier hs-type">invs_to_PA</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="WithAbstractPredicates.Class.html#WithAbstractPredicates"><span class="hs-identifier hs-type">WithAbstractPredicates</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395971"><span class="hs-identifier hs-type">bin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395972"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395973"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395974"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.L0.html#LiftingEntry"><span class="hs-identifier hs-type">LiftingEntry</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395971"><span class="hs-identifier hs-type">bin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395972"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395973"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395974"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.CFG.html#CFG"><span class="hs-identifier hs-type">CFG</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IM.IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679395972"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IM.IntMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.VerificationCondition.html#PointerAnalysisResult"><span class="hs-identifier hs-type">PointerAnalysisResult</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395974"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-45"></span><span id="invs_to_PA"><span class="annot"><span class="annottext">invs_to_PA :: forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; CFG -&gt; IntMap pred -&gt; IntMap (PointerAnalysisResult v)
</span><a href="WithAbstractPredicates.GenerateInvariants.html#invs_to_PA"><span class="hs-identifier hs-var hs-var">invs_to_PA</span></a></span></span><span> </span><span id="local-6989586621679396202"><span class="annot"><span class="annottext">l :: LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396202"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679396203"><span class="annot"><span class="annottext">bin
</span><a href="#local-6989586621679396203"><span class="hs-identifier hs-var">bin</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Config
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679396204"><span class="annot"><span class="annottext">L0 pred finit v
</span><a href="#local-6989586621679396204"><span class="hs-identifier hs-var">l0</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679396205"><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396205"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621679396206"><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396206"><span class="hs-identifier hs-var">invs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679396207"><span class="annot"><span class="annottext">blocks :: [(Int, [Instruction])]
</span><a href="#local-6989586621679396207"><span class="hs-identifier hs-var hs-var">blocks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntMap [Instruction] -&gt; [(Int, [Instruction])]
forall a. IntMap a -&gt; [(Int, a)]
</span><span class="hs-identifier hs-var">IM.assocs</span></span><span> </span><span class="annot"><span class="annottext">(IntMap [Instruction] -&gt; [(Int, [Instruction])])
-&gt; IntMap [Instruction] -&gt; [(Int, [Instruction])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CFG -&gt; IntMap [Instruction]
</span><a href="Data.CFG.html#cfg_instrs"><span class="hs-identifier hs-var">cfg_instrs</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396205"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-47"></span><span>      </span><span id="local-6989586621679396209"><span class="annot"><span class="annottext">pa :: IntMap (PointerAnalysisResult v)
</span><a href="#local-6989586621679396209"><span class="hs-identifier hs-var hs-var">pa</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[IntMap (PointerAnalysisResult v)]
-&gt; IntMap (PointerAnalysisResult v)
forall (f :: * -&gt; *) a. Foldable f =&gt; f (IntMap a) -&gt; IntMap a
</span><span class="hs-identifier hs-var">IM.unions</span></span><span> </span><span class="annot"><span class="annottext">([IntMap (PointerAnalysisResult v)]
 -&gt; IntMap (PointerAnalysisResult v))
-&gt; [IntMap (PointerAnalysisResult v)]
-&gt; IntMap (PointerAnalysisResult v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Int, [Instruction]) -&gt; IntMap (PointerAnalysisResult v))
-&gt; [(Int, [Instruction])] -&gt; [IntMap (PointerAnalysisResult v)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Int, [Instruction]) -&gt; IntMap (PointerAnalysisResult v)
</span><a href="#local-6989586621679396211"><span class="hs-identifier hs-var">get_pa</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, [Instruction])]
</span><a href="#local-6989586621679396207"><span class="hs-identifier hs-var">blocks</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><span class="annottext">IntMap (PointerAnalysisResult v)
</span><a href="#local-6989586621679396209"><span class="hs-identifier hs-var">pa</span></a></span><span>
</span><span id="line-49"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-50"></span><span>  </span><span id="local-6989586621679396211"><span class="annot"><span class="annottext">get_pa :: (Int, [Instruction]) -&gt; IntMap (PointerAnalysisResult v)
</span><a href="#local-6989586621679396211"><span class="hs-identifier hs-var hs-var">get_pa</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679396212"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396212"><span class="hs-identifier hs-var">blockID</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396213"><span class="annot"><span class="annottext">[Instruction]
</span><a href="#local-6989586621679396213"><span class="hs-identifier hs-var">instrs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679396214"><span class="annot"><span class="annottext">inv :: pred
</span><a href="#local-6989586621679396214"><span class="hs-identifier hs-var hs-var">inv</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396206"><span class="hs-identifier hs-var">invs</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap pred -&gt; Int -&gt; pred
forall a. IntMap a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">IM.!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396212"><span class="hs-identifier hs-var">blockID</span></a></span><span>
</span><span id="line-52"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">pred
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679396225"><span class="annot"><span class="annottext">VCS v
</span><a href="#local-6989586621679396225"><span class="hs-identifier hs-var">vcs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State (pred, VCS v) () -&gt; (pred, VCS v) -&gt; (pred, VCS v)
forall s a. State s a -&gt; s -&gt; s
</span><span class="hs-identifier hs-var">execState</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
-&gt; Bool
-&gt; [Instruction]
-&gt; Maybe [Instruction]
-&gt; State (pred, VCS v) ()
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; Bool
-&gt; [Instruction]
-&gt; Maybe [Instruction]
-&gt; State (pred, VCS v) ()
</span><a href="WithAbstractPredicates.Class.html#symbolically_execute"><span class="hs-identifier hs-var">symbolically_execute</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396202"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">[Instruction]
</span><a href="#local-6989586621679396213"><span class="hs-identifier hs-var">instrs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [Instruction]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">pred
</span><a href="#local-6989586621679396214"><span class="hs-identifier hs-var">inv</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">VCS v
forall a. Set a
</span><span class="hs-identifier hs-var">S.empty</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-53"></span><span>      </span><span class="annot"><span class="annottext">VCS v -&gt; IntMap (PointerAnalysisResult v)
forall v. VCS v -&gt; IntMap (PointerAnalysisResult v)
</span><a href="Data.VerificationCondition.html#gather_pa_results"><span class="hs-identifier hs-var">gather_pa_results</span></a></span><span> </span><span class="annot"><span class="annottext">VCS v
</span><a href="#local-6989586621679396225"><span class="hs-identifier hs-var">vcs</span></a></span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span id="local-6989586621679395986"><span id="local-6989586621679395987"><span id="local-6989586621679395988"><span id="local-6989586621679395989"><span class="annot"><a href="WithAbstractPredicates.GenerateInvariants.html#invs_to_post"><span class="hs-identifier hs-type">invs_to_post</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="WithAbstractPredicates.Class.html#WithAbstractPredicates"><span class="hs-identifier hs-type">WithAbstractPredicates</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395986"><span class="hs-identifier hs-type">bin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395987"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395988"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395989"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.L0.html#LiftingEntry"><span class="hs-identifier hs-type">LiftingEntry</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395986"><span class="hs-identifier hs-type">bin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395987"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395988"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395989"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.CFG.html#CFG"><span class="hs-identifier hs-type">CFG</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IM.IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679395987"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.L0.html#Postcondition"><span class="hs-identifier hs-type">Postcondition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395987"><span class="hs-identifier hs-type">pred</span></a></span></span></span></span></span><span>
</span><span id="line-58"></span><span id="invs_to_post"><span class="annot"><span class="annottext">invs_to_post :: forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; CFG -&gt; IntMap pred -&gt; Postcondition pred
</span><a href="WithAbstractPredicates.GenerateInvariants.html#invs_to_post"><span class="hs-identifier hs-var hs-var">invs_to_post</span></a></span></span><span> </span><span id="local-6989586621679396238"><span class="annot"><span class="annottext">l :: LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396238"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679396239"><span class="annot"><span class="annottext">bin
</span><a href="#local-6989586621679396239"><span class="hs-identifier hs-var">bin</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Config
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679396240"><span class="annot"><span class="annottext">L0 pred finit v
</span><a href="#local-6989586621679396240"><span class="hs-identifier hs-var">l0</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679396241"><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396241"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621679396242"><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396242"><span class="hs-identifier hs-var">invs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679396243"><span class="annot"><span class="annottext">blocks :: [(Int, [Instruction])]
</span><a href="#local-6989586621679396243"><span class="hs-identifier hs-var hs-var">blocks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntMap [Instruction] -&gt; [(Int, [Instruction])]
forall a. IntMap a -&gt; [(Int, a)]
</span><span class="hs-identifier hs-var">IM.assocs</span></span><span> </span><span class="annot"><span class="annottext">(IntMap [Instruction] -&gt; [(Int, [Instruction])])
-&gt; IntMap [Instruction] -&gt; [(Int, [Instruction])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CFG -&gt; IntMap [Instruction]
</span><a href="Data.CFG.html#cfg_instrs"><span class="hs-identifier hs-var">cfg_instrs</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396241"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-60"></span><span>      </span><span id="local-6989586621679396244"><span class="annot"><span class="annottext">end_blocks :: [(Int, [Instruction])]
</span><a href="#local-6989586621679396244"><span class="hs-identifier hs-var hs-var">end_blocks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, [Instruction]) -&gt; Bool)
-&gt; [(Int, [Instruction])] -&gt; [(Int, [Instruction])]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679396245"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396245"><span class="hs-identifier hs-var">blockID</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Instruction]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CFG -&gt; Int -&gt; Bool
</span><a href="Data.CFG.html#is_end_node"><span class="hs-identifier hs-var">is_end_node</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396241"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396245"><span class="hs-identifier hs-var">blockID</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, [Instruction])]
</span><a href="#local-6989586621679396243"><span class="hs-identifier hs-var">blocks</span></a></span><span>
</span><span id="line-61"></span><span>      </span><span id="local-6989586621679396255"><span class="annot"><span class="annottext">posts :: [(Int, Postcondition pred)]
</span><a href="#local-6989586621679396255"><span class="hs-identifier hs-var hs-var">posts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, [Instruction]) -&gt; (Int, Postcondition pred))
-&gt; [(Int, [Instruction])] -&gt; [(Int, Postcondition pred)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
-&gt; IntMap pred -&gt; (Int, [Instruction]) -&gt; (Int, Postcondition pred)
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; IntMap pred -&gt; (Int, [Instruction]) -&gt; (Int, Postcondition pred)
</span><a href="#local-6989586621679396256"><span class="hs-identifier hs-var">get_post</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396238"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396242"><span class="hs-identifier hs-var">invs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, [Instruction])]
</span><a href="#local-6989586621679396244"><span class="hs-identifier hs-var">end_blocks</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><span class="annottext">[(Int, Postcondition pred)] -&gt; Postcondition pred
</span><a href="#local-6989586621679396257"><span class="hs-identifier hs-var">join_postconditions</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, Postcondition pred)]
</span><a href="#local-6989586621679396255"><span class="hs-identifier hs-var">posts</span></a></span><span>
</span><span id="line-63"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-64"></span><span>  </span><span id="local-6989586621679396257"><span class="annot"><span class="annottext">join_postconditions :: [(Int, Postcondition pred)] -&gt; Postcondition pred
</span><a href="#local-6989586621679396257"><span class="hs-identifier hs-var hs-var">join_postconditions</span></a></span></span><span> </span><span id="local-6989586621679396276"><span class="annot"><span class="annottext">[(Int, Postcondition pred)]
</span><a href="#local-6989586621679396276"><span class="hs-identifier hs-var">posts</span></a></span></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">((Int, Postcondition pred) -&gt; Bool)
-&gt; [(Int, Postcondition pred)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Postcondition pred -&gt; Postcondition pred -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">Postcondition pred
forall pred. Postcondition pred
</span><a href="Data.L0.html#Terminates"><span class="hs-identifier hs-var">Terminates</span></a></span><span> </span><span class="annot"><span class="annottext">(Postcondition pred -&gt; Bool)
-&gt; ((Int, Postcondition pred) -&gt; Postcondition pred)
-&gt; (Int, Postcondition pred)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Int, Postcondition pred) -&gt; Postcondition pred
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, Postcondition pred)]
</span><a href="#local-6989586621679396276"><span class="hs-identifier hs-var">posts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Postcondition pred
forall pred. Postcondition pred
</span><a href="Data.L0.html#Terminates"><span class="hs-identifier hs-var">Terminates</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">((Int, Postcondition pred) -&gt; Bool)
-&gt; [(Int, Postcondition pred)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Postcondition pred -&gt; Postcondition pred -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">Postcondition pred
forall pred. Postcondition pred
</span><a href="Data.L0.html#TimeOut"><span class="hs-identifier hs-var">TimeOut</span></a></span><span> </span><span class="annot"><span class="annottext">(Postcondition pred -&gt; Bool)
-&gt; ((Int, Postcondition pred) -&gt; Postcondition pred)
-&gt; (Int, Postcondition pred)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Int, Postcondition pred) -&gt; Postcondition pred
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, Postcondition pred)]
</span><a href="#local-6989586621679396276"><span class="hs-identifier hs-var">posts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Postcondition pred
forall pred. Postcondition pred
</span><a href="Data.L0.html#TimeOut"><span class="hs-identifier hs-var">TimeOut</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">((Int, Postcondition pred) -&gt; Bool)
-&gt; [(Int, Postcondition pred)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Postcondition pred -&gt; Bool
forall {pred}. Postcondition pred -&gt; Bool
</span><a href="#local-6989586621679396282"><span class="hs-identifier hs-var">is_unresolved_indirection</span></a></span><span> </span><span class="annot"><span class="annottext">(Postcondition pred -&gt; Bool)
-&gt; ((Int, Postcondition pred) -&gt; Postcondition pred)
-&gt; (Int, Postcondition pred)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Int, Postcondition pred) -&gt; Postcondition pred
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, Postcondition pred)]
</span><a href="#local-6989586621679396276"><span class="hs-identifier hs-var">posts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Postcondition pred] -&gt; Postcondition pred
forall {t :: * -&gt; *} {pred} {pred}.
Foldable t =&gt;
t (Postcondition pred) -&gt; Postcondition pred
</span><a href="#local-6989586621679396283"><span class="hs-identifier hs-var">join_unresolved_indirections</span></a></span><span> </span><span class="annot"><span class="annottext">([Postcondition pred] -&gt; Postcondition pred)
-&gt; [Postcondition pred] -&gt; Postcondition pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Int, Postcondition pred) -&gt; Postcondition pred)
-&gt; [(Int, Postcondition pred)] -&gt; [Postcondition pred]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Int, Postcondition pred) -&gt; Postcondition pred
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">[(Int, Postcondition pred)]
</span><a href="#local-6989586621679396276"><span class="hs-identifier hs-var">posts</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-69"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679396284"><span class="annot"><span class="annottext">errors :: [(Int, Postcondition pred)]
</span><a href="#local-6989586621679396284"><span class="hs-identifier hs-var hs-var">errors</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, Postcondition pred) -&gt; Bool)
-&gt; [(Int, Postcondition pred)] -&gt; [(Int, Postcondition pred)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">(Int, Postcondition pred) -&gt; Bool
forall {a}. (a, Postcondition pred) -&gt; Bool
</span><a href="#local-6989586621679396285"><span class="hs-identifier hs-var">is_error</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, Postcondition pred)]
</span><a href="#local-6989586621679396276"><span class="hs-identifier hs-var">posts</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-70"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[(Int, Postcondition pred)]
</span><a href="#local-6989586621679396284"><span class="hs-identifier hs-var">errors</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-71"></span><span>          </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">pred -&gt; Postcondition pred
forall pred. pred -&gt; Postcondition pred
</span><a href="Data.L0.html#ReturnsWith"><span class="hs-identifier hs-var">ReturnsWith</span></a></span><span> </span><span class="annot"><span class="annottext">(pred -&gt; Postcondition pred) -&gt; pred -&gt; Postcondition pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(pred -&gt; pred -&gt; pred) -&gt; [pred] -&gt; pred
forall a. (a -&gt; a -&gt; a) -&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">foldr1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v -&gt; pred -&gt; pred -&gt; pred
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v -&gt; pred -&gt; pred -&gt; pred
</span><a href="WithAbstractPredicates.Class.html#join_preds"><span class="hs-identifier hs-var">join_preds</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396238"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([pred] -&gt; pred) -&gt; [pred] -&gt; pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Postcondition pred -&gt; Maybe pred)
-&gt; [Postcondition pred] -&gt; [pred]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">Postcondition pred -&gt; Maybe pred
forall {a}. Postcondition a -&gt; Maybe a
</span><a href="#local-6989586621679396290"><span class="hs-identifier hs-var">get_return_pred</span></a></span><span> </span><span class="annot"><span class="annottext">([Postcondition pred] -&gt; [pred]) -&gt; [Postcondition pred] -&gt; [pred]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Int, Postcondition pred) -&gt; Postcondition pred)
-&gt; [(Int, Postcondition pred)] -&gt; [Postcondition pred]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Int, Postcondition pred) -&gt; Postcondition pred
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">[(Int, Postcondition pred)]
</span><a href="#local-6989586621679396276"><span class="hs-identifier hs-var">posts</span></a></span><span>
</span><span id="line-72"></span><span>          </span><span class="annot"><span class="annottext">[(Int, Postcondition pred)]
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(Int, pred)] -&gt; Postcondition pred
forall pred. [(Int, pred)] -&gt; Postcondition pred
</span><a href="Data.L0.html#VerificationError"><span class="hs-identifier hs-var">VerificationError</span></a></span><span> </span><span class="annot"><span class="annottext">([(Int, pred)] -&gt; Postcondition pred)
-&gt; [(Int, pred)] -&gt; Postcondition pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Int, Postcondition pred) -&gt; (Int, pred))
-&gt; [(Int, Postcondition pred)] -&gt; [(Int, pred)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679396292"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396292"><span class="hs-identifier hs-var">blockID</span></a></span></span><span class="hs-special">,</span><span class="annot"><a href="Data.L0.html#ReturnsWith"><span class="hs-identifier hs-type">ReturnsWith</span></a></span><span> </span><span id="local-6989586621679396293"><span class="annot"><span class="annottext">pred
</span><a href="#local-6989586621679396293"><span class="hs-identifier hs-var">pred</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396292"><span class="hs-identifier hs-var">blockID</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">pred
</span><a href="#local-6989586621679396293"><span class="hs-identifier hs-var">pred</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Int, Postcondition pred)]
</span><a href="#local-6989586621679396284"><span class="hs-identifier hs-var">errors</span></a></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span>  </span><span id="local-6989586621679396285"><span class="annot"><span class="annottext">is_error :: (a, Postcondition pred) -&gt; Bool
</span><a href="#local-6989586621679396285"><span class="hs-identifier hs-var hs-var">is_error</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679396303"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396303"><span class="hs-identifier hs-var">blockID</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.L0.html#ReturnsWith"><span class="hs-identifier hs-type">ReturnsWith</span></a></span><span> </span><span id="local-6989586621679396304"><span class="annot"><span class="annottext">pred
</span><a href="#local-6989586621679396304"><span class="hs-identifier hs-var">pred</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v -&gt; pred -&gt; Bool
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v -&gt; pred -&gt; Bool
</span><a href="WithAbstractPredicates.Class.html#verify_postcondition"><span class="hs-identifier hs-var">verify_postcondition</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396238"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">pred
</span><a href="#local-6989586621679396304"><span class="hs-identifier hs-var">pred</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><a href="#local-6989586621679396285"><span class="hs-identifier hs-var">is_error</span></a></span><span> </span><span class="annot"><span class="annottext">(a, Postcondition pred)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span>  </span><span id="local-6989586621679396290"><span class="annot"><span class="annottext">get_return_pred :: Postcondition a -&gt; Maybe a
</span><a href="#local-6989586621679396290"><span class="hs-identifier hs-var hs-var">get_return_pred</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.L0.html#ReturnsWith"><span class="hs-identifier hs-type">ReturnsWith</span></a></span><span> </span><span id="local-6989586621679396307"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396307"><span class="hs-identifier hs-var">pred</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396307"><span class="hs-identifier hs-var">pred</span></a></span><span>
</span><span id="line-78"></span><span>  </span><span class="annot"><a href="#local-6989586621679396290"><span class="hs-identifier hs-var">get_return_pred</span></a></span><span> </span><span class="annot"><span class="annottext">Postcondition a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span>  </span><span id="local-6989586621679396283"><span class="annot"><span class="annottext">join_unresolved_indirections :: t (Postcondition pred) -&gt; Postcondition pred
</span><a href="#local-6989586621679396283"><span class="hs-identifier hs-var hs-var">join_unresolved_indirections</span></a></span></span><span> </span><span id="local-6989586621679396310"><span class="annot"><span class="annottext">t (Postcondition pred)
</span><a href="#local-6989586621679396310"><span class="hs-identifier hs-var">posts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Postcondition pred
forall pred. [Int] -&gt; Postcondition pred
</span><a href="Data.L0.html#HasUnresolvedIndirections"><span class="hs-identifier hs-var">HasUnresolvedIndirections</span></a></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; Postcondition pred) -&gt; [Int] -&gt; Postcondition pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Postcondition pred -&gt; [Int]) -&gt; t (Postcondition pred) -&gt; [Int]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">Postcondition pred -&gt; [Int]
forall {pred}. Postcondition pred -&gt; [Int]
</span><a href="#local-6989586621679396313"><span class="hs-identifier hs-var">get_unresolved_indirections</span></a></span><span> </span><span class="annot"><span class="annottext">t (Postcondition pred)
</span><a href="#local-6989586621679396310"><span class="hs-identifier hs-var">posts</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span id="local-6989586621679396313"><span class="annot"><span class="annottext">get_unresolved_indirections :: Postcondition pred -&gt; [Int]
</span><a href="#local-6989586621679396313"><span class="hs-identifier hs-var hs-var">get_unresolved_indirections</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.L0.html#HasUnresolvedIndirections"><span class="hs-identifier hs-type">HasUnresolvedIndirections</span></a></span><span> </span><span id="local-6989586621679396314"><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679396314"><span class="hs-identifier hs-var">blockIDs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621679396314"><span class="hs-identifier hs-var">blockIDs</span></a></span><span>
</span><span id="line-83"></span><span>  </span><span class="annot"><a href="#local-6989586621679396313"><span class="hs-identifier hs-var">get_unresolved_indirections</span></a></span><span> </span><span class="annot"><span class="annottext">Postcondition pred
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-84"></span><span>  </span><span id="local-6989586621679396282"><span class="annot"><span class="annottext">is_unresolved_indirection :: Postcondition pred -&gt; Bool
</span><a href="#local-6989586621679396282"><span class="hs-identifier hs-var hs-var">is_unresolved_indirection</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.L0.html#HasUnresolvedIndirections"><span class="hs-identifier hs-type">HasUnresolvedIndirections</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-85"></span><span>  </span><span class="annot"><a href="#local-6989586621679396282"><span class="hs-identifier hs-var">is_unresolved_indirection</span></a></span><span> </span><span class="annot"><span class="annottext">Postcondition pred
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span>  </span><span id="local-6989586621679396317"><span class="annot"><span class="annottext">has_unresolved_instruction :: L0 pred finit v -&gt; (a, t Instruction) -&gt; Bool
</span><a href="#local-6989586621679396317"><span class="hs-identifier hs-var hs-var">has_unresolved_instruction</span></a></span></span><span> </span><span id="local-6989586621679396318"><span class="annot"><span class="annottext">L0 pred finit v
</span><a href="#local-6989586621679396318"><span class="hs-identifier hs-var">l0</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679396319"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396319"><span class="hs-identifier hs-var">blockID</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396320"><span class="annot"><span class="annottext">t Instruction
</span><a href="#local-6989586621679396320"><span class="hs-identifier hs-var">instrs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Instruction -&gt; Bool) -&gt; t Instruction -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">L0 pred finit v -&gt; Instruction -&gt; Bool
forall {pred} {finit} {v}. L0 pred finit v -&gt; Instruction -&gt; Bool
</span><a href="#local-6989586621679396321"><span class="hs-identifier hs-var">is_unresolved_instruction</span></a></span><span> </span><span class="annot"><span class="annottext">L0 pred finit v
</span><a href="#local-6989586621679396318"><span class="hs-identifier hs-var">l0</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">t Instruction
</span><a href="#local-6989586621679396320"><span class="hs-identifier hs-var">instrs</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span id="local-6989586621679396321"><span class="annot"><span class="annottext">is_unresolved_instruction :: L0 pred finit v -&gt; Instruction -&gt; Bool
</span><a href="#local-6989586621679396321"><span class="hs-identifier hs-var hs-var">is_unresolved_instruction</span></a></span></span><span> </span><span id="local-6989586621679396324"><span class="annot"><span class="annottext">L0 pred finit v
</span><a href="#local-6989586621679396324"><span class="hs-identifier hs-var">l0</span></a></span></span><span> </span><span id="local-6989586621679396325"><span class="annot"><span class="annottext">Instruction
</span><a href="#local-6989586621679396325"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Opcode -&gt; Bool
</span><a href="Data.X86.Opcode.html#isCall"><span class="hs-identifier hs-var">isCall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Instruction -&gt; Opcode
</span><a href="Data.X86.Instruction.html#inOperation"><span class="hs-identifier hs-var">inOperation</span></a></span><span> </span><span class="annot"><span class="annottext">Instruction
</span><a href="#local-6989586621679396325"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Opcode -&gt; Bool
</span><a href="Data.X86.Opcode.html#isJump"><span class="hs-identifier hs-var">isJump</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Instruction -&gt; Opcode
</span><a href="Data.X86.Instruction.html#inOperation"><span class="hs-identifier hs-var">inOperation</span></a></span><span> </span><span class="annot"><span class="annottext">Instruction
</span><a href="#local-6989586621679396325"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Set Indirection) -&gt; Bool
</span><a href="#local-6989586621679396330"><span class="hs-identifier hs-var">has_unresolved_indirections</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Set Indirection) -&gt; Bool)
-&gt; Maybe (Set Indirection) -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; L0 pred finit v -&gt; Maybe (Set Indirection)
forall {a} {pred} {finit} {v}.
Integral a =&gt;
a -&gt; L0 pred finit v -&gt; Maybe (Set Indirection)
</span><a href="Data.L0.html#l0_lookup_indirection"><span class="hs-identifier hs-var">l0_lookup_indirection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Instruction -&gt; Word64
</span><a href="Data.X86.Instruction.html#inAddress"><span class="hs-identifier hs-var">inAddress</span></a></span><span> </span><span class="annot"><span class="annottext">Instruction
</span><a href="#local-6989586621679396325"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">L0 pred finit v
</span><a href="#local-6989586621679396324"><span class="hs-identifier hs-var">l0</span></a></span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span>  </span><span id="local-6989586621679395995"><span id="local-6989586621679395996"><span id="local-6989586621679395997"><span id="local-6989586621679395998"><span class="annot"><a href="#local-6989586621679396256"><span class="hs-identifier hs-type">get_post</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="WithAbstractPredicates.Class.html#WithAbstractPredicates"><span class="hs-identifier hs-type">WithAbstractPredicates</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395995"><span class="hs-identifier hs-type">bin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395996"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395997"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395998"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.L0.html#LiftingEntry"><span class="hs-identifier hs-type">LiftingEntry</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395995"><span class="hs-identifier hs-type">bin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395996"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395997"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395998"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IM.IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679395996"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="annot"><a href="Data.X86.Instruction.html#Instruction"><span class="hs-identifier hs-type">Instruction</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><a href="Data.L0.html#Postcondition"><span class="hs-identifier hs-type">Postcondition</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395996"><span class="hs-identifier hs-type">pred</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-94"></span><span>  </span><span id="local-6989586621679396256"><span class="annot"><span class="annottext">get_post :: forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; IntMap pred -&gt; (Int, [Instruction]) -&gt; (Int, Postcondition pred)
</span><a href="#local-6989586621679396256"><span class="hs-identifier hs-var hs-var">get_post</span></a></span></span><span> </span><span id="local-6989586621679396354"><span class="annot"><span class="annottext">l :: LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396354"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">bin
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Config
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679396355"><span class="annot"><span class="annottext">L0 pred finit v
</span><a href="#local-6989586621679396355"><span class="hs-identifier hs-var">l0</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Word64
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679396356"><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396356"><span class="hs-identifier hs-var">invs</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679396357"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396357"><span class="hs-identifier hs-var">blockID</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396358"><span class="annot"><span class="annottext">[Instruction]
</span><a href="#local-6989586621679396358"><span class="hs-identifier hs-var">instrs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Maybe (Set Indirection) -&gt; Bool
</span><a href="#local-6989586621679396330"><span class="hs-identifier hs-var">has_unresolved_indirections</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Set Indirection) -&gt; Bool)
-&gt; Maybe (Set Indirection) -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; L0 pred finit v -&gt; Maybe (Set Indirection)
forall {a} {pred} {finit} {v}.
Integral a =&gt;
a -&gt; L0 pred finit v -&gt; Maybe (Set Indirection)
</span><a href="Data.L0.html#l0_lookup_indirection"><span class="hs-identifier hs-var">l0_lookup_indirection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Instruction -&gt; Word64
</span><a href="Data.X86.Instruction.html#inAddress"><span class="hs-identifier hs-var">inAddress</span></a></span><span> </span><span class="annot"><span class="annottext">(Instruction -&gt; Word64) -&gt; Instruction -&gt; Word64
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Instruction] -&gt; Instruction
forall a. HasCallStack =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">[Instruction]
</span><a href="#local-6989586621679396358"><span class="hs-identifier hs-var">instrs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">L0 pred finit v
</span><a href="#local-6989586621679396355"><span class="hs-identifier hs-var">l0</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-96"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396357"><span class="hs-identifier hs-var">blockID</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Int] -&gt; Postcondition pred
forall pred. [Int] -&gt; Postcondition pred
</span><a href="Data.L0.html#HasUnresolvedIndirections"><span class="hs-identifier hs-var">HasUnresolvedIndirections</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396357"><span class="hs-identifier hs-var">blockID</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Lifting bin pred finit v -&gt; Maybe Instruction -&gt; NextRips
forall bin pred finit v.
(BinaryClass bin, Eq pred) =&gt;
Lifting bin pred finit v -&gt; Maybe Instruction -&gt; NextRips
</span><a href="WithAbstractPredicates.ControlFlow.html#next_rips"><span class="hs-identifier hs-var">next_rips</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v -&gt; Lifting bin pred finit v
forall {a} {b} {c} {d}. (a, b, c, d) -&gt; (a, b, c)
</span><a href="WithAbstractPredicates.GenerateInvariants.html#withoutEntry"><span class="hs-identifier hs-var">withoutEntry</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396354"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Instruction -&gt; Maybe Instruction
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Instruction -&gt; Maybe Instruction)
-&gt; Instruction -&gt; Maybe Instruction
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Instruction] -&gt; Instruction
forall a. HasCallStack =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">[Instruction]
</span><a href="#local-6989586621679396358"><span class="hs-identifier hs-var">instrs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-98"></span><span>      </span><span class="annot"><span class="annottext">NextRips
</span><a href="WithAbstractPredicates.ControlFlow.html#UnresolvedTarget"><span class="hs-identifier hs-var">UnresolvedTarget</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; (Int, Postcondition pred)
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; (Int, Postcondition pred))
-&gt; [Char] -&gt; (Int, Postcondition pred)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Int, [Instruction]) -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396357"><span class="hs-identifier hs-var">blockID</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Instruction]
</span><a href="#local-6989586621679396358"><span class="hs-identifier hs-var">instrs</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- HasUnresolvedIndirections</span><span>
</span><span id="line-99"></span><span>      </span><span class="annot"><span class="annottext">NextRips
</span><a href="WithAbstractPredicates.ControlFlow.html#Terminal"><span class="hs-identifier hs-var">Terminal</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396357"><span class="hs-identifier hs-var">blockID</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Postcondition pred
forall pred. Postcondition pred
</span><a href="Data.L0.html#Terminates"><span class="hs-identifier hs-var">Terminates</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>      </span><span class="annot"><a href="WithAbstractPredicates.ControlFlow.html#JustRips"><span class="hs-identifier hs-type">JustRips</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396357"><span class="hs-identifier hs-var">blockID</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">pred -&gt; Postcondition pred
forall pred. pred -&gt; Postcondition pred
</span><a href="Data.L0.html#ReturnsWith"><span class="hs-identifier hs-var">ReturnsWith</span></a></span><span> </span><span class="annot"><span class="annottext">(pred -&gt; Postcondition pred) -&gt; pred -&gt; Postcondition pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(pred, VCS v) -&gt; pred
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((pred, VCS v) -&gt; pred) -&gt; (pred, VCS v) -&gt; pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
-&gt; Int -&gt; [Instruction] -&gt; IntMap pred -&gt; (pred, VCS v)
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; Int -&gt; [Instruction] -&gt; IntMap pred -&gt; (pred, VCS v)
</span><a href="WithAbstractPredicates.GenerateInvariants.html#get_postcondition_for_block"><span class="hs-identifier hs-var">get_postcondition_for_block</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396354"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396357"><span class="hs-identifier hs-var">blockID</span></a></span><span> </span><span class="annot"><span class="annottext">[Instruction]
</span><a href="#local-6989586621679396358"><span class="hs-identifier hs-var">instrs</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396356"><span class="hs-identifier hs-var">invs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span>  </span><span id="local-6989586621679396330"><span class="annot"><span class="annottext">has_unresolved_indirections :: Maybe (Set Indirection) -&gt; Bool
</span><a href="#local-6989586621679396330"><span class="hs-identifier hs-var hs-var">has_unresolved_indirections</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679396370"><span class="annot"><span class="annottext">Set Indirection
</span><a href="#local-6989586621679396370"><span class="hs-identifier hs-var">inds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Indirection
</span><a href="Data.Indirection.html#Indirection_Unresolved"><span class="hs-identifier hs-var">Indirection_Unresolved</span></a></span><span> </span><span class="annot"><span class="annottext">Indirection -&gt; Set Indirection -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><span class="hs-operator hs-var">`S.member`</span></span><span> </span><span class="annot"><span class="annottext">Set Indirection
</span><a href="#local-6989586621679396370"><span class="hs-identifier hs-var">inds</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><a href="#local-6989586621679396330"><span class="hs-identifier hs-var">has_unresolved_indirections</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Set Indirection)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span id="withEntry"><span class="annot"><span class="annottext">withEntry :: d -&gt; (a, b, c) -&gt; (a, b, c, d)
</span><a href="WithAbstractPredicates.GenerateInvariants.html#withEntry"><span class="hs-identifier hs-var hs-var">withEntry</span></a></span></span><span> </span><span id="local-6989586621679396374"><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621679396374"><span class="hs-identifier hs-var">entry</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679396375"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396375"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396376"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679396376"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396377"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679396377"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396375"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679396376"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679396377"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621679396374"><span class="hs-identifier hs-var">entry</span></a></span><span class="hs-special">)</span><span> </span><span>
</span><span id="line-107"></span><span id="withoutEntry"><span class="annot"><span class="annottext">withoutEntry :: (a, b, c, d) -&gt; (a, b, c)
</span><a href="WithAbstractPredicates.GenerateInvariants.html#withoutEntry"><span class="hs-identifier hs-var hs-var">withoutEntry</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679396378"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396378"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396379"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679396379"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396380"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679396380"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396381"><span class="annot"><span class="annottext">d
</span><a href="#local-6989586621679396381"><span class="hs-identifier hs-var">entry</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396378"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679396379"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679396380"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span id="local-6989586621679395964"><span id="local-6989586621679395965"><span id="local-6989586621679395966"><span id="local-6989586621679395967"><span class="annot"><a href="WithAbstractPredicates.GenerateInvariants.html#get_postcondition_for_block"><span class="hs-identifier hs-type">get_postcondition_for_block</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="WithAbstractPredicates.Class.html#WithAbstractPredicates"><span class="hs-identifier hs-type">WithAbstractPredicates</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395964"><span class="hs-identifier hs-type">bin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395965"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395966"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395967"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.L0.html#LiftingEntry"><span class="hs-identifier hs-type">LiftingEntry</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395964"><span class="hs-identifier hs-type">bin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395965"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395966"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395967"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.X86.Instruction.html#Instruction"><span class="hs-identifier hs-type">Instruction</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IM.IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679395965"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679395965"><span class="hs-identifier hs-type">pred</span></a></span><span class="hs-special">,</span><span class="annot"><a href="Data.VerificationCondition.html#VCS"><span class="hs-identifier hs-type">VCS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395967"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-110"></span><span id="get_postcondition_for_block"><span class="annot"><span class="annottext">get_postcondition_for_block :: forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; Int -&gt; [Instruction] -&gt; IntMap pred -&gt; (pred, VCS v)
</span><a href="WithAbstractPredicates.GenerateInvariants.html#get_postcondition_for_block"><span class="hs-identifier hs-var hs-var">get_postcondition_for_block</span></a></span></span><span> </span><span id="local-6989586621679396384"><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396384"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679396385"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396385"><span class="hs-identifier hs-var">blockID</span></a></span></span><span> </span><span id="local-6989586621679396386"><span class="annot"><span class="annottext">[Instruction]
</span><a href="#local-6989586621679396386"><span class="hs-identifier hs-var">instrs</span></a></span></span><span> </span><span id="local-6989586621679396387"><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396387"><span class="hs-identifier hs-var">invs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679396390"><span class="annot"><span class="annottext">pre :: pred
</span><a href="#local-6989586621679396390"><span class="hs-identifier hs-var hs-var">pre</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe pred -&gt; pred
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe pred -&gt; pred) -&gt; Maybe pred -&gt; pred
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IntMap pred -&gt; Maybe pred
forall a. Int -&gt; IntMap a -&gt; Maybe a
</span><span class="hs-identifier hs-var">IM.lookup</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396385"><span class="hs-identifier hs-var">blockID</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396387"><span class="hs-identifier hs-var">invs</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-112"></span><span>   </span><span class="annot"><span class="annottext">State (pred, VCS v) () -&gt; (pred, VCS v) -&gt; (pred, VCS v)
forall s a. State s a -&gt; s -&gt; s
</span><span class="hs-identifier hs-var">execState</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
-&gt; Bool
-&gt; [Instruction]
-&gt; Maybe [Instruction]
-&gt; State (pred, VCS v) ()
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; Bool
-&gt; [Instruction]
-&gt; Maybe [Instruction]
-&gt; State (pred, VCS v) ()
</span><a href="WithAbstractPredicates.Class.html#symbolically_execute"><span class="hs-identifier hs-var">symbolically_execute</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396384"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">[Instruction]
</span><a href="#local-6989586621679396386"><span class="hs-identifier hs-var">instrs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [Instruction]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">pred
</span><a href="#local-6989586621679396390"><span class="hs-identifier hs-var">pre</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">VCS v
forall a. Set a
</span><span class="hs-identifier hs-var">S.empty</span></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- PROPAGATION</span><span>
</span><span id="line-121"></span><span class="hs-comment">--</span><span>
</span><span id="line-122"></span><span class="hs-comment">--</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- propagation</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- The state consists of </span><span>
</span><span id="line-125"></span><span class="hs-comment">-- 		1.) the current mapping of addresses to predicates </span><span>
</span><span id="line-126"></span><span class="hs-comment">-- 		2.) the current bag (a set of edges to be explored)</span><span>
</span><span id="line-127"></span><span class="hs-comment">--</span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span id="local-6989586621679395948"><span id="local-6989586621679395949"><span id="local-6989586621679395950"><span id="local-6989586621679395951"><span class="annot"><a href="WithAbstractPredicates.GenerateInvariants.html#propagate"><span class="hs-identifier hs-type">propagate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="WithAbstractPredicates.Class.html#WithAbstractPredicates"><span class="hs-identifier hs-type">WithAbstractPredicates</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395948"><span class="hs-identifier hs-type">bin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395949"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395950"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395951"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.L0.html#LiftingEntry"><span class="hs-identifier hs-type">LiftingEntry</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395948"><span class="hs-identifier hs-type">bin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395949"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395950"><span class="hs-identifier hs-type">finit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395951"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.CFG.html#CFG"><span class="hs-identifier hs-type">CFG</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">State</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IM.IntMap</span></span><span> </span><span class="annot"><a href="#local-6989586621679395949"><span class="hs-identifier hs-type">pred</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.VerificationCondition.html#VCS"><span class="hs-identifier hs-type">VCS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395951"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-131"></span><span id="propagate"><span class="annot"><span class="annottext">propagate :: forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; CFG -&gt; State (IntMap pred, Set (Int, Int), VCS v) ()
</span><a href="WithAbstractPredicates.GenerateInvariants.html#propagate"><span class="hs-identifier hs-var hs-var">propagate</span></a></span></span><span> </span><span id="local-6989586621679396419"><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396419"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679396420"><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396420"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-132"></span><span>  </span><span id="local-6989586621679396421"><span class="annot"><span class="annottext">Maybe ((Int, Int), Set (Int, Int))
</span><a href="#local-6989586621679396421"><span class="hs-identifier hs-var">pick</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT
  (IntMap pred, Set (Int, Int), VCS v)
  Identity
  (Maybe ((Int, Int), Set (Int, Int)))
</span><a href="#local-6989586621679396422"><span class="hs-identifier hs-var">pick_edge_from_bag</span></a></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ((Int, Int), Set (Int, Int))
</span><a href="#local-6989586621679396421"><span class="hs-identifier hs-var">pick</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-134"></span><span>    </span><span class="annot"><span class="annottext">Maybe ((Int, Int), Set (Int, Int))
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; State (IntMap pred, Set (Int, Int), VCS v) ()
forall a.
a -&gt; StateT (IntMap pred, Set (Int, Int), VCS v) Identity a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679396423"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396423"><span class="hs-identifier hs-var">v0</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396424"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396424"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span id="local-6989586621679396425"><span class="annot"><span class="annottext">Set (Int, Int)
</span><a href="#local-6989586621679396425"><span class="hs-identifier hs-var">bag'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-136"></span><span>      </span><span class="annot"><span class="annottext">((IntMap pred, Set (Int, Int), VCS v)
 -&gt; (IntMap pred, Set (Int, Int), VCS v))
-&gt; State (IntMap pred, Set (Int, Int), VCS v) ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><span class="hs-identifier hs-var">modify</span></span><span> </span><span class="annot"><span class="annottext">(((IntMap pred, Set (Int, Int), VCS v)
  -&gt; (IntMap pred, Set (Int, Int), VCS v))
 -&gt; State (IntMap pred, Set (Int, Int), VCS v) ())
-&gt; ((IntMap pred, Set (Int, Int), VCS v)
    -&gt; (IntMap pred, Set (Int, Int), VCS v))
-&gt; State (IntMap pred, Set (Int, Int), VCS v) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set (Int, Int)
-&gt; (IntMap pred, Set (Int, Int), VCS v)
-&gt; (IntMap pred, Set (Int, Int), VCS v)
forall {b} {a} {b} {c}. b -&gt; (a, b, c) -&gt; (a, b, c)
</span><a href="#local-6989586621679396427"><span class="hs-identifier hs-var">put_bag</span></a></span><span> </span><span class="annot"><span class="annottext">Set (Int, Int)
</span><a href="#local-6989586621679396425"><span class="hs-identifier hs-var">bag'</span></a></span><span>
</span><span id="line-137"></span><span>      </span><span class="hs-comment">-- take an edge (v0,v1) out of the bag</span><span>
</span><span id="line-138"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679396428"><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396428"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Set (Int, Int)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">VCS v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT
  (IntMap pred, Set (Int, Int), VCS v)
  Identity
  (IntMap pred, Set (Int, Int), VCS v)
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><span class="hs-identifier hs-var">get</span></span><span>
</span><span id="line-139"></span><span>      </span><span class="hs-comment">-- do predicate transformation on the currently available precondition of v0</span><span>
</span><span id="line-140"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679396430"><span class="annot"><span class="annottext">p :: pred
</span><a href="#local-6989586621679396430"><span class="hs-identifier hs-var hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396428"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap pred -&gt; Int -&gt; pred
forall a. IntMap a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">IM.!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396423"><span class="hs-identifier hs-var">v0</span></a></span><span>
</span><span id="line-141"></span><span>      </span><span class="hs-comment">-- this produces q: the precondition for v1</span><span>
</span><span id="line-142"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679396440"><span class="annot"><span class="annottext">pred
</span><a href="#local-6989586621679396440"><span class="hs-identifier hs-var">q</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396441"><span class="annot"><span class="annottext">VCS v
</span><a href="#local-6989586621679396441"><span class="hs-identifier hs-var">vcs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State (pred, VCS v) () -&gt; (pred, VCS v) -&gt; (pred, VCS v)
forall s a. State s a -&gt; s -&gt; s
</span><span class="hs-identifier hs-var">execState</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
-&gt; Bool
-&gt; [Instruction]
-&gt; Maybe [Instruction]
-&gt; State (pred, VCS v) ()
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; Bool
-&gt; [Instruction]
-&gt; Maybe [Instruction]
-&gt; State (pred, VCS v) ()
</span><a href="WithAbstractPredicates.Class.html#symbolically_execute"><span class="hs-identifier hs-var">symbolically_execute</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396419"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CFG -&gt; Int -&gt; [Instruction]
</span><a href="Data.CFG.html#fetch_block"><span class="hs-identifier hs-var">fetch_block</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396420"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396423"><span class="hs-identifier hs-var">v0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Instruction] -&gt; Maybe [Instruction]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([Instruction] -&gt; Maybe [Instruction])
-&gt; [Instruction] -&gt; Maybe [Instruction]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CFG -&gt; Int -&gt; [Instruction]
</span><a href="Data.CFG.html#fetch_block"><span class="hs-identifier hs-var">fetch_block</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396420"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396424"><span class="hs-identifier hs-var">v1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">pred
</span><a href="#local-6989586621679396430"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">VCS v
forall a. Set a
</span><span class="hs-identifier hs-var">S.empty</span></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>      </span><span class="annot"><span class="annottext">((IntMap pred, Set (Int, Int), VCS v)
 -&gt; (IntMap pred, Set (Int, Int), VCS v))
-&gt; State (IntMap pred, Set (Int, Int), VCS v) ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><span class="hs-identifier hs-var">modify</span></span><span> </span><span class="annot"><span class="annottext">(((IntMap pred, Set (Int, Int), VCS v)
  -&gt; (IntMap pred, Set (Int, Int), VCS v))
 -&gt; State (IntMap pred, Set (Int, Int), VCS v) ())
-&gt; ((IntMap pred, Set (Int, Int), VCS v)
    -&gt; (IntMap pred, Set (Int, Int), VCS v))
-&gt; State (IntMap pred, Set (Int, Int), VCS v) ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">VCS v
-&gt; (IntMap pred, Set (Int, Int), VCS v)
-&gt; (IntMap pred, Set (Int, Int), VCS v)
forall {a} {a} {b}.
Ord a =&gt;
Set a -&gt; (a, b, Set a) -&gt; (a, b, Set a)
</span><a href="#local-6989586621679396443"><span class="hs-identifier hs-var">add_vcs</span></a></span><span> </span><span class="annot"><span class="annottext">VCS v
</span><a href="#local-6989586621679396441"><span class="hs-identifier hs-var">vcs'</span></a></span><span>
</span><span id="line-144"></span><span>      </span><span class="hs-comment">-- store q</span><span>
</span><span id="line-145"></span><span>      </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
-&gt; pred -&gt; Int -&gt; State (IntMap pred, Set (Int, Int), VCS v) ()
forall {m :: * -&gt; *} {a} {c} {bin} {finit} {v}.
(MonadState (IntMap a, Set (Int, Int), c) m,
 WithAbstractPredicates bin a finit v) =&gt;
LiftingEntry bin a finit v -&gt; a -&gt; Int -&gt; m ()
</span><a href="#local-6989586621679396444"><span class="hs-identifier hs-var">add_predicate</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396419"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">pred
</span><a href="#local-6989586621679396440"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396424"><span class="hs-identifier hs-var">v1</span></a></span><span>
</span><span id="line-146"></span><span>      </span><span class="hs-comment">-- continue</span><span>
</span><span id="line-147"></span><span>      </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
-&gt; CFG -&gt; State (IntMap pred, Set (Int, Int), VCS v) ()
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v
-&gt; CFG -&gt; State (IntMap pred, Set (Int, Int), VCS v) ()
</span><a href="WithAbstractPredicates.GenerateInvariants.html#propagate"><span class="hs-identifier hs-var">propagate</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin pred finit v
</span><a href="#local-6989586621679396419"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396420"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-148"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-149"></span><span>  </span><span id="local-6989586621679396422"><span class="annot"><span class="annottext">pick_edge_from_bag :: StateT
  (IntMap pred, Set (Int, Int), VCS v)
  Identity
  (Maybe ((Int, Int), Set (Int, Int)))
</span><a href="#local-6989586621679396422"><span class="hs-identifier hs-var hs-var">pick_edge_from_bag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-150"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679396467"><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396467"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396468"><span class="annot"><span class="annottext">Set (Int, Int)
</span><a href="#local-6989586621679396468"><span class="hs-identifier hs-var">bag</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396469"><span class="annot"><span class="annottext">VCS v
</span><a href="#local-6989586621679396469"><span class="hs-identifier hs-var">vcs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StateT
  (IntMap pred, Set (Int, Int), VCS v)
  Identity
  (IntMap pred, Set (Int, Int), VCS v)
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><span class="hs-identifier hs-var">get</span></span><span>
</span><span id="line-151"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">((Int, Int) -&gt; Bool) -&gt; Set (Int, Int) -&gt; Maybe (Int, Int)
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">find</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679396471"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396471"><span class="hs-identifier hs-var">v0</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396472"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396472"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; IntMap pred -&gt; Bool
forall a. Int -&gt; IntMap a -&gt; Bool
</span><span class="hs-identifier hs-var">IM.member</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396472"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap pred
</span><a href="#local-6989586621679396467"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set (Int, Int)
</span><a href="#local-6989586621679396468"><span class="hs-identifier hs-var">bag</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-152"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679396474"><span class="annot"><span class="annottext">(Int, Int)
</span><a href="#local-6989586621679396474"><span class="hs-identifier hs-var">edge</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe ((Int, Int), Set (Int, Int))
-&gt; StateT
     (IntMap pred, Set (Int, Int), VCS v)
     Identity
     (Maybe ((Int, Int), Set (Int, Int)))
forall a.
a -&gt; StateT (IntMap pred, Set (Int, Int), VCS v) Identity a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe ((Int, Int), Set (Int, Int))
 -&gt; StateT
      (IntMap pred, Set (Int, Int), VCS v)
      Identity
      (Maybe ((Int, Int), Set (Int, Int))))
-&gt; Maybe ((Int, Int), Set (Int, Int))
-&gt; StateT
     (IntMap pred, Set (Int, Int), VCS v)
     Identity
     (Maybe ((Int, Int), Set (Int, Int)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Int, Int), Set (Int, Int)) -&gt; Maybe ((Int, Int), Set (Int, Int))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int, Int)
</span><a href="#local-6989586621679396474"><span class="hs-identifier hs-var">edge</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Int, Int) -&gt; Set (Int, Int) -&gt; Set (Int, Int)
forall a. Ord a =&gt; a -&gt; Set a -&gt; Set a
</span><span class="hs-identifier hs-var">S.delete</span></span><span> </span><span class="annot"><span class="annottext">(Int, Int)
</span><a href="#local-6989586621679396474"><span class="hs-identifier hs-var">edge</span></a></span><span> </span><span class="annot"><span class="annottext">Set (Int, Int)
</span><a href="#local-6989586621679396468"><span class="hs-identifier hs-var">bag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Int, Int)
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe ((Int, Int), Set (Int, Int))
-&gt; StateT
     (IntMap pred, Set (Int, Int), VCS v)
     Identity
     (Maybe ((Int, Int), Set (Int, Int)))
forall a.
a -&gt; StateT (IntMap pred, Set (Int, Int), VCS v) Identity a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe ((Int, Int), Set (Int, Int))
 -&gt; StateT
      (IntMap pred, Set (Int, Int), VCS v)
      Identity
      (Maybe ((Int, Int), Set (Int, Int))))
-&gt; Maybe ((Int, Int), Set (Int, Int))
-&gt; StateT
     (IntMap pred, Set (Int, Int), VCS v)
     Identity
     (Maybe ((Int, Int), Set (Int, Int)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set (Int, Int) -&gt; Maybe ((Int, Int), Set (Int, Int))
forall a. Set a -&gt; Maybe (a, Set a)
</span><span class="hs-identifier hs-var">S.minView</span></span><span> </span><span class="annot"><span class="annottext">Set (Int, Int)
</span><a href="#local-6989586621679396468"><span class="hs-identifier hs-var">bag</span></a></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span>  </span><span id="local-6989586621679396427"><span class="annot"><span class="annottext">put_bag :: b -&gt; (a, b, c) -&gt; (a, b, c)
</span><a href="#local-6989586621679396427"><span class="hs-identifier hs-var hs-var">put_bag</span></a></span></span><span> </span><span id="local-6989586621679396477"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679396477"><span class="hs-identifier hs-var">bag</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679396478"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396478"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679396479"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679396479"><span class="hs-identifier hs-var">vcs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396478"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679396477"><span class="hs-identifier hs-var">bag</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679396479"><span class="hs-identifier hs-var">vcs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span>  </span><span id="local-6989586621679396443"><span class="annot"><span class="annottext">add_vcs :: Set a -&gt; (a, b, Set a) -&gt; (a, b, Set a)
</span><a href="#local-6989586621679396443"><span class="hs-identifier hs-var hs-var">add_vcs</span></a></span></span><span> </span><span id="local-6989586621679396484"><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621679396484"><span class="hs-identifier hs-var">vcs'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679396485"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396485"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396486"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679396486"><span class="hs-identifier hs-var">bag</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396487"><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621679396487"><span class="hs-identifier hs-var">vcs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396485"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679396486"><span class="hs-identifier hs-var">bag</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Set a -&gt; Set a -&gt; Set a
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-identifier hs-var">S.union</span></span><span> </span><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621679396487"><span class="hs-identifier hs-var">vcs</span></a></span><span> </span><span class="annot"><span class="annottext">Set a
</span><a href="#local-6989586621679396484"><span class="hs-identifier hs-var">vcs'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span>  </span><span id="local-6989586621679396444"><span class="annot"><span class="annottext">add_predicate :: LiftingEntry bin a finit v -&gt; a -&gt; Int -&gt; m ()
</span><a href="#local-6989586621679396444"><span class="hs-identifier hs-var hs-var">add_predicate</span></a></span></span><span> </span><span id="local-6989586621679396528"><span class="annot"><span class="annottext">LiftingEntry bin a finit v
</span><a href="#local-6989586621679396528"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679396529"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396529"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621679396530"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396530"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-160"></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621679396531"><span class="annot"><span class="annottext">IntMap a
</span><a href="#local-6989586621679396531"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396532"><span class="annot"><span class="annottext">Set (Int, Int)
</span><a href="#local-6989586621679396532"><span class="hs-identifier hs-var">bag</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679396533"><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679396533"><span class="hs-identifier hs-var">vcs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m (IntMap a, Set (Int, Int), c)
forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><span class="hs-identifier hs-var">get</span></span><span>
</span><span id="line-161"></span><span>   </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; IntMap a -&gt; Maybe a
forall a. Int -&gt; IntMap a -&gt; Maybe a
</span><span class="hs-identifier hs-var">IM.lookup</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396530"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap a
</span><a href="#local-6989586621679396531"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-162"></span><span>     </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-163"></span><span>       </span><span class="hs-comment">-- first time visit, store q and explore all outgoing edges</span><span>
</span><span id="line-164"></span><span>       </span><span class="annot"><span class="annottext">(IntMap a, Set (Int, Int), c) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; s -&gt; m ()
</span><span class="hs-identifier hs-var">put</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; a -&gt; IntMap a -&gt; IntMap a
forall a. Int -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><span class="hs-identifier hs-var">IM.insert</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396530"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396529"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap a
</span><a href="#local-6989586621679396531"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Set (Int, Int) -&gt; Set (Int, Int) -&gt; Set (Int, Int)
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-identifier hs-var">S.union</span></span><span> </span><span class="annot"><span class="annottext">Set (Int, Int)
</span><a href="#local-6989586621679396532"><span class="hs-identifier hs-var">bag</span></a></span><span> </span><span class="annot"><span class="annottext">(Set (Int, Int) -&gt; Set (Int, Int))
-&gt; Set (Int, Int) -&gt; Set (Int, Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CFG -&gt; Int -&gt; Set (Int, Int)
</span><a href="WithAbstractPredicates.GenerateInvariants.html#out_edges"><span class="hs-identifier hs-var">out_edges</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396420"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396530"><span class="hs-identifier hs-var">v1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679396533"><span class="hs-identifier hs-var">vcs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>     </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679396536"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396536"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-166"></span><span>       </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin a finit v -&gt; a -&gt; a -&gt; Bool
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v -&gt; pred -&gt; pred -&gt; Bool
</span><a href="WithAbstractPredicates.Class.html#is_weaker_than"><span class="hs-identifier hs-var">is_weaker_than</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin a finit v
</span><a href="#local-6989586621679396528"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396536"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396529"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-167"></span><span>         </span><span class="hs-comment">-- previously visited, no need for further exploration</span><span>
</span><span id="line-168"></span><span>         </span><span class="annot"><span class="annottext">() -&gt; m ()
forall a. a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- put (IM.insert v1 j m, bag, vcs)</span><span>
</span><span id="line-169"></span><span>       </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-170"></span><span>         </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679396547"><span class="annot"><span class="annottext">j :: a
</span><a href="#local-6989586621679396547"><span class="hs-identifier hs-var hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin a finit v -&gt; a -&gt; a -&gt; a
forall bin pred finit v.
WithAbstractPredicates bin pred finit v =&gt;
LiftingEntry bin pred finit v -&gt; pred -&gt; pred -&gt; pred
</span><a href="WithAbstractPredicates.Class.html#join_preds"><span class="hs-identifier hs-var">join_preds</span></a></span><span> </span><span class="annot"><span class="annottext">LiftingEntry bin a finit v
</span><a href="#local-6989586621679396528"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396536"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396529"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-171"></span><span>         </span><span class="hs-comment">-- previously visited, need to weaken invariant by joining</span><span>
</span><span id="line-172"></span><span>         </span><span class="annot"><span class="annottext">(IntMap a, Set (Int, Int), c) -&gt; m ()
forall s (m :: * -&gt; *). MonadState s m =&gt; s -&gt; m ()
</span><span class="hs-identifier hs-var">put</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; a -&gt; IntMap a -&gt; IntMap a
forall a. Int -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><span class="hs-identifier hs-var">IM.insert</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396530"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679396547"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap a
</span><a href="#local-6989586621679396531"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Set (Int, Int) -&gt; Set (Int, Int) -&gt; Set (Int, Int)
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-identifier hs-var">S.union</span></span><span> </span><span class="annot"><span class="annottext">Set (Int, Int)
</span><a href="#local-6989586621679396532"><span class="hs-identifier hs-var">bag</span></a></span><span> </span><span class="annot"><span class="annottext">(Set (Int, Int) -&gt; Set (Int, Int))
-&gt; Set (Int, Int) -&gt; Set (Int, Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CFG -&gt; Int -&gt; Set (Int, Int)
</span><a href="WithAbstractPredicates.GenerateInvariants.html#out_edges"><span class="hs-identifier hs-var">out_edges</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396420"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396530"><span class="hs-identifier hs-var">v1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621679396533"><span class="hs-identifier hs-var">vcs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span id="out_edges"><span class="annot"><span class="annottext">out_edges :: CFG -&gt; Int -&gt; Set (Int, Int)
</span><a href="WithAbstractPredicates.GenerateInvariants.html#out_edges"><span class="hs-identifier hs-var hs-var">out_edges</span></a></span></span><span> </span><span id="local-6989586621679396551"><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396551"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679396552"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396552"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Int, Int)] -&gt; Set (Int, Int)
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">S.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(Int, Int)] -&gt; Set (Int, Int)) -&gt; [(Int, Int)] -&gt; Set (Int, Int)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; [Int] -&gt; [(Int, Int)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [Int]
forall a. a -&gt; [a]
</span><span class="hs-identifier hs-var">repeat</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396552"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; [(Int, Int)]) -&gt; [Int] -&gt; [(Int, Int)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IntSet -&gt; [Int]
</span><span class="hs-identifier hs-var">IS.toList</span></span><span> </span><span class="annot"><span class="annottext">(IntSet -&gt; [Int]) -&gt; IntSet -&gt; [Int]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CFG -&gt; Int -&gt; IntSet
</span><a href="Data.CFG.html#post"><span class="hs-identifier hs-var">post</span></a></span><span> </span><span class="annot"><span class="annottext">CFG
</span><a href="#local-6989586621679396551"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396552"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-175"></span><span> </span><span>
</span><span id="line-176"></span></pre></body></html>